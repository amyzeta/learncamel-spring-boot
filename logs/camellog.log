12-10-2019 09:26:20.416 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 09:26:20.503 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:26:20.516 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:26:22.649 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:26:23.683 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:26:23.807 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2a898881, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@16c63f5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@35229f85, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6d3c5255, org.springframework.test.context.support.DirtiesContextTestExecutionListener@b1712f3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6986bbaf, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4879dfad, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4758820d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@74eb909f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@28ec166e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2eee3069, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2da59753]
12-10-2019 09:26:24.014 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:26:30.809 [main] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 11025 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:26:30.833 [main] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 09:27:07.815 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:27:08.391 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:27:08.401 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:08.407 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:08.408 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:08.417 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:08.417 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:27:08.418 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:08.436 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:08.436 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:27:10.286 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:27:10.837 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$96ed524e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:27:10.875 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$74c38c2f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:27:11.292 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:27:11.320 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:27:11.330 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:27:11.424 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:27:11.431 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:27:11.432 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:27:11.432 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:27:11.440 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:27:11.444 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:27:11.498 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:27:11.514 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:27:21.696 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:27:23.756 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:27:29.923 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:27:31.131 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:27:31.162 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:27:31.167 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:27:31.308 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:27:31.316 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:27:31.565 [main] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 66.836 seconds (JVM running for 93.615)
12-10-2019 09:27:31.652 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:27:31.987 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:27:31.988 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:27:32.009 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:27:32.030 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:27:32.031 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:27:34.934 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:27:36.368 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:27:37.699 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:27:37.704 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:27:37.758 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 09:27:37.766 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 09:27:37.848 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:27:39.673 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:27:39.677 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:27:39.683 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:27:39.688 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 09:27:39.701 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:27:39.708 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 7.699 seconds
12-10-2019 09:27:39.690 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 09:27:40.683 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:40.740 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:40.758 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 09:27:40.773 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 09:27:40.848 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:41.051 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:41.511 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:42.111 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:27:42.113 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:27:42.113 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:27:42.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:27:42.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:27:42.118 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:27:42.137 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570825642855-0-4 on ExchangeId: ID-amy-VirtualBox-1570825642855-0-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [      1408]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [      1348]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:27:42.155 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:27:42.309 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:43.175 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:44.251 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:45.409 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:46.624 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:46.636 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:27:46.690 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:27:46.691 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:27:46.779 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:46.880 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:46.982 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:47.186 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:47.641 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:47.792 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:48.448 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:48.754 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:49.563 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:49.665 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:50.578 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:50.678 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:50.701 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:27:50.701 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:27:50.703 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:27:50.703 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:27:50.705 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:27:50.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:27:50.712 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570825642855-0-7 on ExchangeId: ID-amy-VirtualBox-1570825642855-0-6). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-6]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        11]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         8]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-6]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:27:50.713 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-6]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-6]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-6]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:27:51.588 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:51.839 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:52.501 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:52.904 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:53.309 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:53.963 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:54.166 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:54.923 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:55.333 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:55.831 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:56.145 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:56.750 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:57.158 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:57.914 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:58.325 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:58.942 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:59.452 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:27:59.911 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:00.577 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:00.701 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:00.706 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:00.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:00.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:00.711 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:00.711 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:00.740 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570825642855-0-9 on ExchangeId: ID-amy-VirtualBox-1570825642855-0-8). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-8]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        30]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        30]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-8]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:00.756 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-8]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-8]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-8]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:01.038 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:01.657 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:02.219 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:02.524 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:03.234 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:03.687 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:04.095 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:04.554 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:05.078 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:05.394 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:06.258 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:06.561 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:07.287 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:07.640 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:08.334 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:08.518 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:09.425 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:09.672 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:10.398 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:10.555 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:10.704 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:10.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:10.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:10.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:10.708 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:10.709 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:10.727 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570825642855-0-11 on ExchangeId: ID-amy-VirtualBox-1570825642855-0-10). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-10]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        17]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        16]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-10]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:10.739 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-10]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-10]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-10]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:11.424 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:11.676 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:12.285 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:12.736 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:13.290 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:13.845 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:14.204 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:14.801 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:15.360 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:15.658 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:16.418 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:16.513 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:17.325 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:17.369 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:18.284 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:18.525 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:19.393 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:19.432 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:20.290 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:20.457 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:20.702 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:20.704 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:20.704 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:20.705 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:20.705 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:20.705 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:20.713 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570825642855-0-13 on ExchangeId: ID-amy-VirtualBox-1570825642855-0-12). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-12]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         7]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         5]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-12]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:20.714 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-12]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-12]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-12]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:21.201 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:21.417 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:22.258 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:22.323 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:23.209 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:23.259 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:24.317 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:24.372 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:25.289 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:25.329 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:26.251 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:26.390 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:27.261 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:27.504 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:28.122 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:28.360 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:28.928 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:29.472 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:29.941 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:30.432 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:30.702 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:30.706 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:30.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:30.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:30.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:28:30.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:28:30.721 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570825642855-0-15 on ExchangeId: ID-amy-VirtualBox-1570825642855-0-14). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-14]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        10]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         7]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-14]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:30.723 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-14]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-14]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570825642855-0-14]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:28:31.002 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:31.440 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:32.115 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:32.402 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Producer clientId=producer-2] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:33.229 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.processDisconnection - [Consumer clientId=consumer-1, groupId=itemDev] Connection to node -1 could not be established. Broker may not be available.
12-10-2019 09:28:34.830 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 1 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:34.832 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:28:34.833 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 2 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:34.833 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:28:34.949 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 3 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:34.956 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 5 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.059 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 4 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.064 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 7 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.203 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 5 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.209 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 9 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.382 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 11 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.385 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 6 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.546 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 13 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.551 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 7 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.650 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 15 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.664 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 8 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.761 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Consumer clientId=consumer-1, groupId=itemDev] Error while fetching metadata with correlation id 17 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:35.770 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient.handleCompletedMetadataResponse - [Producer clientId=producer-2] Error while fetching metadata with correlation id 9 : {inputItemTopic=LEADER_NOT_AVAILABLE}
12-10-2019 09:28:36.459 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:28:36.461 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 09:28:36.461 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 56.750 seconds (56750 millis)
12-10-2019 09:28:36.461 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:28:36.461 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:28:36.527 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:28:36.532 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:28:36.554 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 09:28:38.029 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:28:38.041 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 09:28:38.042 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 09:28:38.305 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 1
12-10-2019 09:28:38.307 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 09:28:38.337 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-1, groupId=itemDev] Resetting offset for partition inputItemTopic-0 to offset 0.
12-10-2019 09:28:38.555 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@214e3185[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 09:28:38.584 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 09:28:38.961 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:28:38.962 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:28:38.962 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:28:38.965 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:28:38.967 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 09:28:40.556 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 4.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@214e3185[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 09:28:41.044 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 09:28:41.245 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read item from DB is [{item_i=70, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-06 15:16:35.196333}, {item_i=71, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-10 20:31:07.418502}, {item_i=72, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:28:41.055806}]
12-10-2019 09:28:41.258 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:28:41.307 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:28:41.354 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:28:41.355 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:28:41.357 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=60644]
12-10-2019 09:28:42.358 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:28:42.361 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=61648]
12-10-2019 09:28:43.363 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:28:43.365 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=62651]
12-10-2019 09:28:44.366 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:28:44.366 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=63653]
12-10-2019 09:28:45.367 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:28:45.367 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=64654]
12-10-2019 09:28:46.379 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:28:46.379 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=65666]
12-10-2019 09:28:46.554 [Thread-1] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 09:28:46.555 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570825642855-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=65842]
12-10-2019 09:28:46.557 [Camel (camel-1) thread #5 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 09:28:46.557 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 09:28:46.561 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 09:28:46.566 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 09:28:46.727 [Thread-1] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 09:28:46.728 [Thread-1] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 09:28:46.806 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 1 minute
12-10-2019 09:28:46.806 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 10.279 seconds
12-10-2019 09:28:46.863 [Camel (camel-1) thread #3 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570825642855-0-1]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570825642855-0-1]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570825642855-0-1]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 09:28:46.949 [Thread-1] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:28:46.977 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 09:28:47.170 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 09:33:29.960 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 09:33:29.985 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:33:29.995 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:33:30.531 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:33:30.927 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:33:30.983 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@63798ca7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4612b856, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@22875539, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5674e1f2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@79c7532f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a448449, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@32f232a5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43f82e78, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e54303, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@e8df99a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2dc995f4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2f40e5db]
12-10-2019 09:33:31.038 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:33:33.653 [main] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 16765 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:33:33.663 [main] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 09:33:39.052 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:33:39.221 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:33:39.224 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.228 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.230 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.233 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.237 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:33:39.237 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.238 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.238 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:33:39.443 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:33:39.667 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$2e000efc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:33:39.718 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bd648dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:33:40.055 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:33:40.067 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:33:40.075 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:33:40.098 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:33:40.102 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:33:40.104 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:33:40.105 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:33:40.107 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:33:40.111 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:33:40.137 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:33:40.145 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:33:42.710 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:33:43.906 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:33:46.783 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:33:47.120 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:33:47.129 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:33:47.133 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:33:47.184 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:33:47.184 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:33:47.236 [main] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 15.946 seconds (JVM running for 21.354)
12-10-2019 09:33:47.257 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:33:47.356 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:33:47.364 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:33:47.369 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:33:47.370 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:33:47.384 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:33:48.526 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:33:48.894 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:33:49.126 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:33:49.136 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:33:49.175 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 09:33:49.185 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 09:33:49.232 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:33:49.368 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:33:49.373 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:33:49.383 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:33:49.384 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 09:33:49.399 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 09:33:49.423 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:33:49.425 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 2.054 seconds
12-10-2019 09:33:49.906 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:33:49.913 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:33:49.937 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 09:33:49.937 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 09:33:49.991 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 3
12-10-2019 09:33:49.998 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 09:33:50.434 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 09:33:50.455 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 09:33:50.635 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:33:50.696 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:33:50.697 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:33:50.730 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:33:50.726 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:33:50.733 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:33:50.734 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:33:50.739 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:33:50.739 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:33:50.743 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:33:50.768 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570826023553-0-5 on ExchangeId: ID-amy-VirtualBox-1570826023553-0-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826023553-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       322]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       291]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826023553-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:33:50.777 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826023553-0-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570826023553-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826023553-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:33:50.813 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 09:33:50.825 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:33:50.826 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 09:33:50.826 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 1.400 seconds (1400 millis)
12-10-2019 09:33:50.827 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:33:50.828 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:33:50.884 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:33:50.885 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:33:50.915 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 09:33:50.993 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:33:51.008 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:33:51.009 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:33:51.009 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:33:51.015 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 09:33:51.719 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 09:33:51.787 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read item from DB is [{item_i=70, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-06 15:16:35.196333}, {item_i=71, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-10 20:31:07.418502}, {item_i=72, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:28:41.055806}, {item_i=73, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:33:51.728202}]
12-10-2019 09:33:51.788 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:33:51.795 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:33:51.823 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:33:51.824 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:51.826 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=1397]
12-10-2019 09:33:52.827 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:52.827 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=2398]
12-10-2019 09:33:53.828 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:53.829 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=3400]
12-10-2019 09:33:54.829 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:54.830 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=4401]
12-10-2019 09:33:55.830 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:55.831 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=5402]
12-10-2019 09:33:56.831 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:56.832 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=6403]
12-10-2019 09:33:57.833 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:57.837 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=7408]
12-10-2019 09:33:58.838 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:58.839 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=8410]
12-10-2019 09:33:59.840 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:33:59.840 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=9411]
12-10-2019 09:34:00.843 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:34:00.844 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=10415]
12-10-2019 09:34:00.915 [Thread-1] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 09:34:00.916 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826023553-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=10487]
12-10-2019 09:34:00.916 [Camel (camel-1) thread #5 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 09:34:00.918 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 09:34:00.924 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 09:34:00.927 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 09:34:00.953 [Thread-1] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 09:34:00.954 [Thread-1] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 09:34:00.968 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 13.598 seconds
12-10-2019 09:34:00.969 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 10.085 seconds
12-10-2019 09:34:00.992 [Thread-1] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:34:01.000 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 09:34:01.056 [Camel (camel-1) thread #3 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826023553-0-1]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570826023553-0-1]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570826023553-0-1]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 09:34:01.066 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 09:35:22.189 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 09:35:22.228 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:35:22.240 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:35:22.946 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:35:23.322 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:35:23.410 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f0e9815, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76884e4b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@126945f9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2a898881, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16c63f5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@35229f85, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6d3c5255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@b1712f3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6986bbaf, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4879dfad, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4758820d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74eb909f]
12-10-2019 09:35:23.498 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:35:25.939 [main] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 17274 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:35:25.944 [main] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 09:35:30.635 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:35:30.831 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:35:30.834 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:30.852 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:30.853 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:30.853 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:30.853 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:35:30.854 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:30.866 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:30.867 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:35:31.008 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:35:31.282 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$5d468679] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:35:31.330 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3b1cc05a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:35:31.666 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:35:31.680 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:35:31.691 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:35:31.720 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:35:31.724 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:35:31.728 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:35:31.729 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:35:31.731 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:35:31.732 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:35:31.754 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:35:31.765 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:35:34.350 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:35:35.170 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:35:37.559 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:35:37.915 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:35:37.923 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:35:37.923 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:35:37.976 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:35:37.977 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:35:38.031 [main] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 14.179 seconds (JVM running for 19.445)
12-10-2019 09:35:38.048 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:35:38.111 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:35:38.111 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:35:38.114 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:35:38.115 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:35:38.116 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:35:39.101 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:35:39.453 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:35:39.717 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:35:39.728 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:35:39.768 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 09:35:39.784 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 09:35:39.815 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:35:39.898 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:35:39.901 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:35:39.903 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:35:39.912 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 09:35:39.909 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 09:35:39.927 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:35:39.928 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.812 seconds
12-10-2019 09:35:39.987 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 09:35:40.364 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:35:40.374 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:35:40.382 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 09:35:40.382 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 09:35:40.425 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 5
12-10-2019 09:35:40.429 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 09:35:40.836 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 09:35:40.855 [main] INFO  o.s.t.c.t.TransactionContext.startTransaction - Began transaction (1) for test context [DefaultTestContext@1e749235 testClass = KafkaRouteTest, testInstance = com.learncamel.learncamelspringboot.route.KafkaRouteTest@870a9f2, testMethod = kafkaRoute@KafkaRouteTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6c2e7591 testClass = KafkaRouteTest, locations = '{}', classes = '{class com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication}', contextInitializerClasses = '[]', activeProfiles = '{dev}', propertySourceLocations = '{}', propertySourceProperties = '{camel.springboot.xmlRoutes=false, camel.springboot.javaRoutesExcludePattern=com.learncamel.learncamelspringboot.route.SimpleCamelRoute, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5965d37, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3de8f619, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eadd4fb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@57bc27f5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@7f2542f]; rollback [true]
12-10-2019 09:35:40.931 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 09:35:40.981 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 09:35:41.352 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:35:41.355 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:35:41.355 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:35:41.355 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:35:41.357 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:35:41.357 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:35:41.388 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570826134937-0-4 on ExchangeId: ID-amy-VirtualBox-1570826134937-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826134937-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       452]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       399]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826134937-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:35:41.400 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826134937-0-1]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570826134937-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826134937-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:35:42.078 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:35:42.096 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:35:42.096 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:35:42.123 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:35:42.182 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 09:35:42.233 [main] INFO  o.s.t.c.t.TransactionContext.endTransaction - Rolled back transaction for test: [DefaultTestContext@1e749235 testClass = KafkaRouteTest, testInstance = com.learncamel.learncamelspringboot.route.KafkaRouteTest@870a9f2, testMethod = kafkaRoute@KafkaRouteTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6c2e7591 testClass = KafkaRouteTest, locations = '{}', classes = '{class com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication}', contextInitializerClasses = '[]', activeProfiles = '{dev}', propertySourceLocations = '{}', propertySourceProperties = '{camel.springboot.xmlRoutes=false, camel.springboot.javaRoutesExcludePattern=com.learncamel.learncamelspringboot.route.SimpleCamelRoute, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5965d37, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3de8f619, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eadd4fb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@57bc27f5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
12-10-2019 09:35:42.238 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:35:42.239 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 09:35:42.239 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 2.310 seconds (2310 millis)
12-10-2019 09:35:42.242 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:35:42.243 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:35:42.268 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:35:42.273 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:35:42.281 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:35:42.297 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:35:42.298 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 09:35:42.306 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:35:42.313 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:35:42.512 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read item from DB is [{item_i=70, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-06 15:16:35.196333}, {item_i=71, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-10 20:31:07.418502}, {item_i=72, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:28:41.055806}, {item_i=73, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:33:51.728202}, {item_i=74, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:35:42.338944}]
12-10-2019 09:35:42.519 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:35:42.537 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:35:42.588 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:35:42.588 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:42.590 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=1662]
12-10-2019 09:35:43.592 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:43.594 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=2666]
12-10-2019 09:35:44.596 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:44.596 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=3668]
12-10-2019 09:35:45.597 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:45.598 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=4670]
12-10-2019 09:35:46.598 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:46.599 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=5671]
12-10-2019 09:35:47.600 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:47.601 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=6672]
12-10-2019 09:35:48.603 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:48.603 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=7675]
12-10-2019 09:35:49.605 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:49.607 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=8679]
12-10-2019 09:35:50.608 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:50.612 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=9684]
12-10-2019 09:35:51.613 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:35:51.613 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=10685]
12-10-2019 09:35:52.284 [Thread-1] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 09:35:52.285 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826134937-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=11357]
12-10-2019 09:35:52.285 [Camel (camel-1) thread #5 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 09:35:52.285 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 09:35:52.289 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 09:35:52.297 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 09:35:52.310 [Thread-1] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 09:35:52.310 [Thread-1] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 09:35:52.322 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 14.207 seconds
12-10-2019 09:35:52.326 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 10.055 seconds
12-10-2019 09:35:52.346 [Thread-1] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:35:52.356 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 09:35:52.394 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 09:39:17.514 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 09:39:17.545 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:39:17.555 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:39:18.189 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:39:18.527 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:39:18.596 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@146587a2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f0e9815, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@76884e4b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@126945f9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a898881, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16c63f5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@35229f85, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6d3c5255, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@b1712f3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6986bbaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4879dfad, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4758820d]
12-10-2019 09:39:18.680 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:39:20.966 [main] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 18169 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:39:20.973 [main] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 09:39:25.514 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:39:25.687 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:39:25.690 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.694 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.695 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.696 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.697 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:39:25.699 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.700 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.700 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:39:25.882 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:39:26.024 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$5d468679] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:39:26.053 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3b1cc05a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:39:26.372 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:39:26.385 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:39:26.395 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:39:26.429 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:39:26.429 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:39:26.430 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:39:26.435 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:39:26.437 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:39:26.438 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:39:26.462 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:39:26.470 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:39:28.667 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:39:29.476 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:39:31.847 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:39:32.226 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:39:32.241 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:39:32.242 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:39:32.289 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:39:32.290 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:39:32.348 [main] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 13.359 seconds (JVM running for 18.078)
12-10-2019 09:39:32.365 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:39:32.472 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:39:32.472 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:39:32.473 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:39:32.474 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:39:32.487 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:39:33.352 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:39:33.769 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:39:34.140 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:39:34.142 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:39:34.155 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 09:39:34.159 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 09:39:34.185 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:39:34.253 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:39:34.254 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:39:34.258 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:39:34.263 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 09:39:34.271 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:39:34.272 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.798 seconds
12-10-2019 09:39:34.266 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 09:39:34.302 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 09:39:34.666 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:39:34.677 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:39:34.683 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 09:39:34.684 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 09:39:34.735 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 7
12-10-2019 09:39:34.738 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 09:39:35.107 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 09:39:35.126 [main] INFO  o.s.t.c.t.TransactionContext.startTransaction - Began transaction (1) for test context [DefaultTestContext@2acbe46d testClass = KafkaRouteTest, testInstance = com.learncamel.learncamelspringboot.route.KafkaRouteTest@6c6b00f1, testMethod = kafkaRoute@KafkaRouteTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@48126a17 testClass = KafkaRouteTest, locations = '{}', classes = '{class com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication}', contextInitializerClasses = '[]', activeProfiles = '{dev}', propertySourceLocations = '{}', propertySourceProperties = '{camel.springboot.xmlRoutes=false, camel.springboot.javaRoutesExcludePattern=com.learncamel.learncamelspringboot.route.SimpleCamelRoute, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@673fdbce, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@710636b0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4e5ed836, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5c7933ad], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@1a7437d8]; rollback [true]
12-10-2019 09:39:35.280 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 09:39:35.322 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 09:39:35.703 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:39:35.706 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:39:35.706 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:39:35.707 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:39:35.711 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:39:35.712 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:39:35.736 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570826369239-0-4 on ExchangeId: ID-amy-VirtualBox-1570826369239-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826369239-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       449]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       386]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826369239-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:39:35.747 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826369239-0-1]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570826369239-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826369239-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:39:36.383 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:39:36.412 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:39:36.413 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:39:36.434 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:39:36.490 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 09:39:36.529 [main] INFO  o.s.t.c.t.TransactionContext.endTransaction - Rolled back transaction for test: [DefaultTestContext@2acbe46d testClass = KafkaRouteTest, testInstance = com.learncamel.learncamelspringboot.route.KafkaRouteTest@6c6b00f1, testMethod = kafkaRoute@KafkaRouteTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@48126a17 testClass = KafkaRouteTest, locations = '{}', classes = '{class com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication}', contextInitializerClasses = '[]', activeProfiles = '{dev}', propertySourceLocations = '{}', propertySourceProperties = '{camel.springboot.xmlRoutes=false, camel.springboot.javaRoutesExcludePattern=com.learncamel.learncamelspringboot.route.SimpleCamelRoute, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@673fdbce, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@710636b0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4e5ed836, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5c7933ad], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
12-10-2019 09:39:36.531 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:39:36.533 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 09:39:36.535 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 2.259 seconds (2259 millis)
12-10-2019 09:39:36.535 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:39:36.536 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:39:36.563 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:39:36.566 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:39:36.573 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:39:36.577 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 09:39:36.576 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:39:36.577 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:39:36.582 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:39:36.703 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read item from DB is [{item_i=74, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:35:42.338944}, {item_i=75, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:39:36.610597}]
12-10-2019 09:39:36.705 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:39:36.716 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:39:36.753 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:39:36.754 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:36.756 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=1481]
12-10-2019 09:39:37.758 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:37.759 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=2484]
12-10-2019 09:39:38.762 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:38.762 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=3487]
12-10-2019 09:39:39.763 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:39.763 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=4488]
12-10-2019 09:39:40.764 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:40.765 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=5490]
12-10-2019 09:39:41.765 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:41.766 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=6491]
12-10-2019 09:39:42.767 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:42.767 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=7492]
12-10-2019 09:39:43.769 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:43.769 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=8494]
12-10-2019 09:39:44.769 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:44.770 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=9495]
12-10-2019 09:39:45.771 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:39:45.772 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=10497]
12-10-2019 09:39:46.577 [Thread-1] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 09:39:46.577 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826369239-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=11302]
12-10-2019 09:39:46.580 [Camel (camel-1) thread #5 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 09:39:46.580 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 09:39:46.581 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 09:39:46.593 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 09:39:46.610 [Thread-1] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 09:39:46.611 [Thread-1] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 09:39:46.633 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 14.160 seconds
12-10-2019 09:39:46.634 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 10.071 seconds
12-10-2019 09:39:46.659 [Thread-1] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:39:46.668 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 09:39:46.711 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 09:40:42.339 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 09:40:42.360 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:40:42.362 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:40:43.014 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:40:43.354 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:40:43.422 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5f0e9815, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76884e4b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@126945f9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2a898881, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16c63f5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@35229f85, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6d3c5255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@b1712f3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6986bbaf, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4879dfad, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4758820d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74eb909f]
12-10-2019 09:40:43.517 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:40:45.823 [main] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 18452 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:40:45.827 [main] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 09:40:50.198 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:40:50.368 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:40:50.369 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.374 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.376 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.376 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.378 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:40:50.379 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.379 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.381 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:40:50.543 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:40:50.685 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$9e1ac2ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:40:50.712 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7bf0fcaf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:40:50.949 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:40:50.961 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:40:50.967 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:40:50.986 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:40:50.987 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:40:50.988 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:40:50.988 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:40:50.989 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:40:50.992 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:40:51.013 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:40:51.021 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:40:53.328 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:40:54.135 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:40:56.474 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:40:56.812 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:40:56.824 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:40:56.825 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:40:56.872 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:40:56.873 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:40:56.929 [main] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 13.119 seconds (JVM running for 17.862)
12-10-2019 09:40:56.947 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:40:57.012 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:40:57.013 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:40:57.023 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:40:57.028 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:40:57.031 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:40:58.047 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:40:58.400 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:40:58.819 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:40:58.820 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:40:58.834 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 09:40:58.843 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 09:40:58.861 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:40:58.925 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:40:58.927 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:40:58.931 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:40:58.936 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 09:40:58.938 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 09:40:58.947 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:40:58.948 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.919 seconds
12-10-2019 09:40:58.973 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 09:40:59.368 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:40:59.374 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:40:59.390 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 09:40:59.390 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 09:40:59.435 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 9
12-10-2019 09:40:59.439 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 09:40:59.820 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 09:40:59.833 [main] INFO  o.s.t.c.t.TransactionContext.startTransaction - Began transaction (1) for test context [DefaultTestContext@2f82e3cf testClass = KafkaRouteTest, testInstance = com.learncamel.learncamelspringboot.route.KafkaRouteTest@3a44993c, testMethod = kafkaRoute@KafkaRouteTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b6606d1 testClass = KafkaRouteTest, locations = '{}', classes = '{class com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication}', contextInitializerClasses = '[]', activeProfiles = '{dev}', propertySourceLocations = '{}', propertySourceProperties = '{camel.springboot.xmlRoutes=false, camel.springboot.javaRoutesExcludePattern=com.learncamel.learncamelspringboot.route.SimpleCamelRoute, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5965d37, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3de8f619, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eadd4fb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@57bc27f5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@27605b87]; rollback [true]
12-10-2019 09:40:59.975 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 09:41:00.016 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 09:41:00.374 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:41:00.377 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:41:00.378 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:41:00.379 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:41:00.383 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:41:00.383 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:41:00.405 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570826453908-0-4 on ExchangeId: ID-amy-VirtualBox-1570826453908-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826453908-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       426]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       355]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826453908-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:41:00.425 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826453908-0-1]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570826453908-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826453908-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:41:01.095 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:41:01.119 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:41:01.119 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:41:01.137 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:41:01.201 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 09:41:01.233 [main] INFO  o.s.t.c.t.TransactionContext.endTransaction - Rolled back transaction for test: [DefaultTestContext@2f82e3cf testClass = KafkaRouteTest, testInstance = com.learncamel.learncamelspringboot.route.KafkaRouteTest@3a44993c, testMethod = kafkaRoute@KafkaRouteTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6b6606d1 testClass = KafkaRouteTest, locations = '{}', classes = '{class com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication}', contextInitializerClasses = '[]', activeProfiles = '{dev}', propertySourceLocations = '{}', propertySourceProperties = '{camel.springboot.xmlRoutes=false, camel.springboot.javaRoutesExcludePattern=com.learncamel.learncamelspringboot.route.SimpleCamelRoute, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5965d37, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3de8f619, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@eadd4fb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@57bc27f5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
12-10-2019 09:41:01.239 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:41:01.239 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 09:41:01.241 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 2.290 seconds (2290 millis)
12-10-2019 09:41:01.241 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:41:01.241 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute
12-10-2019 09:41:01.272 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:41:01.280 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:41:01.293 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 09:41:01.297 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:41:01.299 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:41:01.299 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:41:01.303 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:41:01.424 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read item from DB is [{item_i=76, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 09:41:01.328551}]
12-10-2019 09:41:01.428 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:41:01.437 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:41:01.489 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:41:01.490 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:01.491 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=1521]
12-10-2019 09:41:02.492 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:02.493 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=2523]
12-10-2019 09:41:03.494 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:03.498 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=3528]
12-10-2019 09:41:04.500 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:04.500 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=4530]
12-10-2019 09:41:05.501 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:05.501 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=5531]
12-10-2019 09:41:06.502 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:06.502 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=6532]
12-10-2019 09:41:07.503 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:07.504 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=7534]
12-10-2019 09:41:08.505 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:08.506 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=8536]
12-10-2019 09:41:09.506 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:09.507 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=9537]
12-10-2019 09:41:10.508 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:41:10.508 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=10538]
12-10-2019 09:41:11.292 [Thread-1] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 09:41:11.293 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826453908-0-2, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=11323]
12-10-2019 09:41:11.293 [Camel (camel-1) thread #5 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 09:41:11.302 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 09:41:11.308 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 09:41:11.308 [Camel (camel-1) thread #5 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 09:41:11.326 [Thread-1] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 09:41:11.328 [Thread-1] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 09:41:11.339 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 14.311 seconds
12-10-2019 09:41:11.340 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 10.068 seconds
12-10-2019 09:41:11.358 [Thread-1] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:41:11.369 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 09:41:11.407 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 09:45:27.926 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 09:45:27.984 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:45:27.999 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:45:28.822 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:45:29.293 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:45:29.402 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4758820d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@74eb909f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@28ec166e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2eee3069, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2da59753, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5629510, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4df5bcb4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@12c7a01b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@13d9b21f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2826f61, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@62727399, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4d9ac0b4]
12-10-2019 09:45:29.525 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 09:45:32.558 [main] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 19575 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:45:32.565 [main] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 09:45:38.455 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:45:38.679 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:45:38.684 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.689 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.690 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.690 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.690 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:45:38.690 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.691 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.700 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:45:38.824 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:45:39.139 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$9e1ac2ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:45:39.190 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7bf0fcaf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:45:39.591 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:45:39.606 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:45:39.617 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:45:39.648 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:45:39.649 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:45:39.655 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:45:39.659 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:45:39.660 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:45:39.664 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:45:39.706 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:45:39.709 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:45:42.902 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:45:43.904 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:45:46.830 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:45:47.224 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:45:47.240 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:45:47.240 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:45:47.309 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:45:47.310 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:45:47.399 [main] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 17.484 seconds (JVM running for 24.564)
12-10-2019 09:45:47.418 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:45:47.571 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute_invalidSku
12-10-2019 09:45:47.579 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:45:47.581 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:45:47.587 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:45:47.590 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:45:48.703 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:45:49.107 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:45:49.515 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:45:49.519 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:45:49.538 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 09:45:49.544 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 09:45:49.578 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:45:49.653 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:45:49.655 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:45:49.658 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:45:49.660 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 09:45:49.664 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 09:45:49.683 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:45:49.686 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 2.100 seconds
12-10-2019 09:45:50.128 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:45:50.131 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:45:50.146 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 09:45:50.146 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 09:45:50.196 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 11
12-10-2019 09:45:50.203 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 09:45:50.694 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 09:45:50.714 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 09:45:50.991 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:45:50.993 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:45:50.993 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:45:50.993 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:45:50.995 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 09:45:50.995 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 09:45:51.024 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570826743633-0-4 on ExchangeId: ID-amy-VirtualBox-1570826743633-0-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826743633-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       330]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       293]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826743633-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:45:51.028 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826743633-0-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570826743633-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570826743633-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 09:45:51.059 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 09:45:51.092 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:45:51.092 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:45:51.114 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:45:51.191 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 09:45:51.218 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: errorTopic with breakOnFirstError: false
12-10-2019 09:45:51.234 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = b3806ca0-2170-4c20-8739-d63a6f4aa925
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 09:45:51.278 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 09:45:51.279 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 09:45:51.294 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing errorTopic-Thread 0 to topic errorTopic
12-10-2019 09:45:51.323 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:45:51.340 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 09:45:51.346 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Revoking previously assigned partitions []
12-10-2019 09:45:51.347 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] (Re-)joining group
12-10-2019 09:45:51.399 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Successfully joined group with generation 1
12-10-2019 09:45:51.412 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Setting newly assigned partitions [errorTopic-0, errorTopic-1, errorTopic-2]
12-10-2019 09:45:51.423 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 09:45:51.445 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 09:45:51.470 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Resetting offset for partition errorTopic-0 to offset 0.
12-10-2019 09:45:51.468 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] ERROR route1.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 09:45:51.484 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 09:45:51.470 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Resetting offset for partition errorTopic-1 to offset 0.
12-10-2019 09:45:51.486 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-2, groupId=b3806ca0-2170-4c20-8739-d63a6f4aa925] Resetting offset for partition errorTopic-2 to offset 0.
12-10-2019 09:45:59.341 [kafka-producer-network-thread | producer-1] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 09:45:59.357 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570826743633-0-7 on ExchangeId: ID-amy-VirtualBox-1570826743633-0-6). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@15f97d07]]]}], Channel[sendTo(kafka://errorTopic?brokers=localhost%3A9092)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consu] [      8168]
[route1            ] [log3              ] [log                                                                           ] [         0]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@4445a90b]               ] [        70]
[route1            ] [log4              ] [log                                                                           ] [       170]
[route1            ] [process4          ] [Processor@0x27f68027                                                          ] [         0]
[route1            ] [log2              ] [log                                                                           ] [        15]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [      7843]
[route1            ] [process3          ] [Processor@0x15f97d07                                                          ] [      7843]
[route1            ] [to1               ] [{{kafkaErrorRoute}}                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.doRun(KafkaConsumer.java:326)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.run(KafkaConsumer.java:215)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 09:45:59.379 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:45:59.380 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute_invalidSku(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 09:45:59.390 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 9.692 seconds (9692 millis)
12-10-2019 09:45:59.395 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.a.c.component.kafka.KafkaConsumer.log - Error during processing. Exchange[ID-amy-VirtualBox-1570826743633-0-6]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for ABC TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.doRun(KafkaConsumer.java:326)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.run(KafkaConsumer.java:215)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 09:45:59.390 [main] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 09:45:59.405 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute_invalidSku
12-10-2019 09:45:59.445 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:45:59.446 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:45:59.467 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 09:46:01.472 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@38856d6e[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 09:46:03.474 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 4.002 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@38856d6e[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 09:46:04.403 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:46:04.413 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 09:46:04.480 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 09:46:04.481 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:46:04.492 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826743633-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=13797]
12-10-2019 09:46:05.493 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:46:05.494 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826743633-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=14808]
12-10-2019 09:46:06.494 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:46:06.495 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826743633-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=15809]
12-10-2019 09:46:07.496 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:46:07.496 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826743633-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=16810]
12-10-2019 09:46:08.496 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 09:46:08.497 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826743633-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=17811]
12-10-2019 09:46:09.461 [Thread-1] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 09:46:09.462 [Camel (camel-1) thread #7 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 09:46:09.463 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570826743633-0-1, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=18777]
12-10-2019 09:46:09.472 [Thread-1] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 09:46:09.483 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 09:46:09.486 [Camel (camel-1) thread #7 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 09:46:09.506 [Thread-1] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 09:46:09.506 [Thread-1] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: errorTopic
12-10-2019 09:46:09.880 [Camel (camel-1) thread #3 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570826743633-0-1]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570826743633-0-1]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570826743633-0-1]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 09:46:11.510 [Thread-1] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@3d1c8f35[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[errorTopic]] to terminate...
12-10-2019 09:46:13.511 [Thread-1] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 4.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@3d1c8f35[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[errorTopic]] to terminate...
12-10-2019 09:46:14.394 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop errorTopic-Thread 0 from topic errorTopic
12-10-2019 09:46:14.398 [Camel (camel-1) thread #5 - KafkaConsumer[errorTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing errorTopic-Thread 0 from topic errorTopic
12-10-2019 09:46:14.425 [Thread-1] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 09:46:14.430 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 26.846 seconds
12-10-2019 09:46:14.430 [Thread-1] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 14.985 seconds
12-10-2019 09:46:14.480 [Thread-1] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:50:28.410 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using SpringBootContextLoader
12-10-2019 09:50:28.443 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 09:50:28.456 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 09:50:29.141 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 09:50:29.642 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 09:50:29.743 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@45fd9a4d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@50468873, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@146587a2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5f0e9815, org.springframework.test.context.support.DirtiesContextTestExecutionListener@76884e4b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@126945f9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2a898881, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16c63f5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@35229f85, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6d3c5255, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@b1712f3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6986bbaf]
12-10-2019 09:50:29.937 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 09:50:32.927 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 20627 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:50:32.941 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 09:50:38.510 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:50:38.742 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:50:38.749 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.755 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.755 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.755 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.756 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:50:38.760 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.761 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.765 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:38.871 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:50:39.133 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$6e1d6f35] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:50:39.178 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4bf3a916] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:50:39.439 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:50:39.449 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:50:39.456 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:50:39.485 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:50:39.487 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:50:39.487 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:50:39.488 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:50:39.488 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:50:39.491 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:50:39.523 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:50:39.526 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:50:42.177 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:50:43.153 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:50:46.105 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:50:46.547 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:50:46.559 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:50:46.560 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:50:46.625 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:50:46.626 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:50:46.704 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 16.302 seconds (JVM running for 22.359)
12-10-2019 09:50:46.731 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:50:46.733 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 09:50:46.738 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 09:50:46.958 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 09:50:46.961 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:50:46.970 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:50:46.972 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 09:50:46.976 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:50:47.449 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 09:50:47.570 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 09:50:47.760 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 09:50:47.793 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 09:50:47.925 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:50:48.394 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 09:50:48.405 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 09:50:48.414 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 09:50:48.415 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:50:48.419 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.443 seconds
12-10-2019 09:50:49.419 [main] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 09:50:49.528 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:50:49.532 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:50:49.533 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 09:50:49.537 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:50:49.550 [main] INFO  .log - Exchange[ExchangePattern: InOut, BodyType: String, Body: insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)]
12-10-2019 09:50:49.552 [main] INFO  route1.log - Read item from DB is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 09:50:49.595 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 09:50:49.600 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:50:49.640 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 09:50:49.642 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 09:50:49.647 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 09:50:49.651 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 09:50:49.721 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 2.749 seconds
12-10-2019 09:50:49.730 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.137 seconds
12-10-2019 09:50:49.766 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:50:49.817 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 09:50:49.821 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 09:50:49.822 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 1.398 seconds (1398 millis)
12-10-2019 09:50:49.824 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 09:50:49.824 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 09:50:49.885 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 09:50:50.151 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 20627 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 09:50:50.153 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 09:50:51.416 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 09:50:51.466 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 09:50:51.468 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.469 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.471 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.473 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.473 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 09:50:51.473 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.475 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.475 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 09:50:51.502 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 09:50:51.574 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$6e1d6f35] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:50:51.599 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4bf3a916] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 09:50:51.726 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 09:50:51.737 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 09:50:51.746 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 09:50:51.755 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 09:50:51.758 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 09:50:51.759 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 09:50:51.760 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 09:50:51.774 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 09:50:51.774 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 09:50:51.781 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 09:50:51.784 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 09:50:53.215 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 09:50:53.570 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 09:50:55.322 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 09:50:55.434 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 09:50:55.435 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 09:50:55.436 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 09:50:55.457 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 09:50:55.458 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 09:50:55.472 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 5.581 seconds (JVM running for 31.128)
12-10-2019 09:50:55.483 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 09:50:55.483 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 09:50:55.484 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 09:50:55.542 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 09:50:55.546 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 09:50:55.553 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 09:50:55.555 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 09:50:55.557 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 09:50:55.644 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 09:50:55.731 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 09:50:55.793 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 09:50:55.826 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 09:50:55.970 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 09:50:56.184 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 09:50:56.187 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: direct://input
12-10-2019 09:50:56.188 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 09:50:56.191 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 09:50:56.191 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.636 seconds
12-10-2019 09:50:56.198 [main] INFO  route2.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 09:50:56.204 [main] INFO  route2.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 09:50:56.209 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 09:50:56.215 [main] ERROR route2.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 09:50:56.239 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570827042875-1-2 on ExchangeId: ID-amy-VirtualBox-1570827042875-1-1). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route2)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@36bd07ec]]]}], Channel[sendTo(mock://output4)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route2            ] [route2            ] [direct://input                                                                ] [        32]
[route2            ] [log18             ] [log                                                                           ] [         1]
[route2            ] [unmarshal3        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@85b9f9c]                ] [         4]
[route2            ] [log19             ] [log                                                                           ] [         6]
[route2            ] [process13         ] [Processor@0x26a004ed                                                          ] [        19]
[route2            ] [log17             ] [log                                                                           ] [         1]
[route2            ] [choice10          ] [when[{header{header(env)} != mock}]choice[]                                   ] [        12]
[route2            ] [to7               ] [{{kafkaErrorRoute}}                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:76)
	at org.apache.camel.impl.InterceptSendToEndpointProcessor.process(InterceptSendToEndpointProcessor.java:112)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error(KafkaRouteMockTest.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
12-10-2019 09:50:56.252 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 09:50:56.252 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 09:50:56.271 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 09:50:56.272 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: direct://input
12-10-2019 09:50:56.273 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 09:50:56.278 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 09:50:56.304 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 0.749 seconds
12-10-2019 09:50:56.305 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 0.052 seconds
12-10-2019 09:50:56.315 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 09:50:56.319 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 09:50:56.319 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest_error(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 09:50:56.320 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.127 seconds (127 millis)
12-10-2019 09:50:56.320 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 09:50:56.320 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 10:47:10.529 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using SpringBootContextLoader
12-10-2019 10:47:10.580 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:47:10.588 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:47:11.205 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:47:11.580 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:47:11.656 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3da05287, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e636ea3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@115667d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ce7fffa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@497486b3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@75f95314, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6127a7e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@495fac5f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@76012793]
12-10-2019 10:47:11.732 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:47:14.095 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 23292 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:47:14.096 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 10:47:18.574 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:47:18.779 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:47:18.779 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.789 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.795 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.796 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.796 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:47:18.803 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.803 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.805 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:18.898 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:47:19.087 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c5776750] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:47:19.138 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a34da131] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:47:19.369 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:47:19.377 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:47:19.383 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:47:19.404 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:47:19.405 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:47:19.408 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:47:19.408 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:47:19.409 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:47:19.412 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:47:19.430 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:47:19.431 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:47:21.641 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:47:22.413 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:47:24.731 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:47:25.060 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:47:25.071 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:47:25.072 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:47:25.137 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:47:25.142 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:47:25.196 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 13.159 seconds (JVM running for 19.284)
12-10-2019 10:47:25.212 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:47:25.215 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 10:47:25.218 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 10:47:25.366 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 10:47:25.369 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:47:25.370 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:47:25.378 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 10:47:25.383 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:47:25.791 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 10:47:25.909 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 10:47:25.976 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 10:47:25.991 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 10:47:26.177 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:47:26.457 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 10:47:26.458 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 10:47:26.465 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 10:47:26.465 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:47:26.467 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.097 seconds
12-10-2019 10:47:27.278 [main] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 10:47:27.335 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:47:27.337 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:47:27.339 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:47:27.343 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:47:27.346 [main] INFO  .log - Exchange[ExchangePattern: InOut, BodyType: String, Body: insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)]
12-10-2019 10:47:27.348 [main] INFO  route1.log - Read item from DB is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:47:27.367 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 10:47:27.368 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:47:27.379 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 10:47:27.384 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 10:47:27.385 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 10:47:27.385 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:47:27.414 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 2.043 seconds
12-10-2019 10:47:27.414 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.048 seconds
12-10-2019 10:47:27.428 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:47:27.436 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:47:27.436 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 10:47:27.438 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.967 seconds (967 millis)
12-10-2019 10:47:27.439 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:47:27.440 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 10:47:45.437 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using SpringBootContextLoader
12-10-2019 10:47:45.463 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:47:45.474 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:47:46.104 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:47:46.458 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:47:46.509 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3da05287, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e636ea3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@115667d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@736caf7a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ce7fffa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@497486b3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63f8276e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@75f95314, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6127a7e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6bbe2511, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@495fac5f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@76012793]
12-10-2019 10:47:46.588 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:47:48.955 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 23541 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:47:48.962 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 10:47:53.358 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:47:53.537 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:47:53.540 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.542 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.543 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.543 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.543 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:47:53.544 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.544 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.544 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:47:53.729 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:47:53.881 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c5776750] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:47:53.920 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a34da131] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:47:54.150 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:47:54.160 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:47:54.167 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:47:54.186 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:47:54.188 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:47:54.189 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:47:54.191 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:47:54.193 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:47:54.194 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:47:54.216 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:47:54.219 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:47:56.812 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:47:57.568 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:47:59.944 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:48:00.295 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:48:00.305 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:48:00.306 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:48:00.360 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:48:00.360 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:48:00.417 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 13.49 seconds (JVM running for 18.132)
12-10-2019 10:48:00.435 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:48:00.439 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 10:48:00.443 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 10:48:00.592 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 10:48:00.595 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:48:00.595 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:48:00.596 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 10:48:00.616 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:48:01.007 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 10:48:01.113 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 10:48:01.217 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 10:48:01.244 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 10:48:01.337 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:48:01.627 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 10:48:01.637 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 10:48:01.638 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 10:48:01.645 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:48:01.646 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.049 seconds
12-10-2019 10:48:02.367 [main] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 10:48:02.418 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:48:02.420 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:48:02.421 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:48:02.424 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:48:02.431 [main] INFO  .log - Exchange[ExchangePattern: InOut, BodyType: String, Body: insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)]
12-10-2019 10:48:02.432 [main] INFO  route1.log - Read item from DB is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:48:02.451 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 10:48:02.454 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:48:02.468 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 10:48:02.471 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 10:48:02.471 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 10:48:02.472 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:48:02.498 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 1.902 seconds
12-10-2019 10:48:02.499 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.054 seconds
12-10-2019 10:48:02.512 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:48:02.519 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:48:02.520 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 10:48:02.522 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.873 seconds (873 millis)
12-10-2019 10:48:02.523 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:48:02.526 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 10:54:12.094 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest], using SpringBootContextLoader
12-10-2019 10:54:12.120 [Test worker] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:54:12.126 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteTest]: KafkaRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:54:12.579 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 10:54:12.804 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:54:12.844 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@391059d0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@64180121, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2b9654bf, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@79188541, org.springframework.test.context.support.DirtiesContextTestExecutionListener@427d9d6b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66488d0c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f621ed6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@426daef6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6c55f515, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4e57257e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@21ac06cc, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@e991611]
12-10-2019 10:54:12.893 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 10:54:14.422 [Test worker] INFO  c.l.l.route.KafkaRouteTest.logStarting - Starting KafkaRouteTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:54:14.426 [Test worker] INFO  c.l.l.route.KafkaRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:54:21.612 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:54:21.822 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:54:21.828 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.836 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.840 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.842 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.847 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:54:21.848 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.850 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.852 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:21.993 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:54:22.162 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:22.203 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:22.498 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:54:22.510 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:54:22.514 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:54:22.546 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:54:22.554 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:54:22.556 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:54:22.558 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:54:22.561 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:54:22.567 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:54:22.573 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:54:22.576 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:54:25.156 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:54:26.172 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:54:29.167 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:54:29.542 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:54:29.568 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:54:29.573 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:54:29.625 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:54:29.631 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:54:29.720 [Test worker] INFO  c.l.l.route.KafkaRouteTest.logStarted - Started KafkaRouteTest in 16.597 seconds (JVM running for 20.113)
12-10-2019 10:54:29.737 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:54:29.829 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute_success
12-10-2019 10:54:29.833 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:54:29.841 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:54:29.844 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 10:54:29.850 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:54:31.206 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:54:31.650 [Test worker] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:54:31.867 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:54:31.872 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:54:31.900 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:54:31.902 [Test worker] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:54:31.943 [Test worker] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:54:32.079 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:54:32.084 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:54:32.093 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:54:32.096 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:54:32.097 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:54:32.111 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:54:32.114 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 2.269 seconds
12-10-2019 10:54:32.457 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:54:32.466 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:54:32.479 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:54:32.482 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:54:32.547 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 13
12-10-2019 10:54:32.559 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:54:33.000 [Test worker] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:54:33.051 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:54:33.059 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:54:33.117 [kafka-producer-network-thread | producer-2] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:54:33.138 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:54:33.163 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:54:33.322 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 10:54:33.375 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:33.376 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute_success(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 10:54:33.382 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 1.258 seconds (1258 millis)
12-10-2019 10:54:33.385 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:33.389 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute_success
12-10-2019 10:54:33.409 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteTest
12-10-2019 10:54:33.425 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:54:33.446 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute_invalidSku
12-10-2019 10:54:33.451 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:54:33.495 [Test worker] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: errorTopic with breakOnFirstError: false
12-10-2019 10:54:33.505 [Test worker] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = 5410fdc7-9f49-44de-b568-e14a7c87ee4f
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:54:33.559 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:54:33.574 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:54:33.578 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:54:33.573 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:54:33.589 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:54:33.590 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:54:33.599 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing errorTopic-Thread 0 to topic errorTopic
12-10-2019 10:54:33.601 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 10:54:33.634 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:54:33.641 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:54:33.657 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Revoking previously assigned partitions []
12-10-2019 10:54:33.657 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] (Re-)joining group
12-10-2019 10:54:33.700 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Successfully joined group with generation 1
12-10-2019 10:54:33.707 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Setting newly assigned partitions [errorTopic-0, errorTopic-1, errorTopic-2]
12-10-2019 10:54:33.755 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Resetting offset for partition errorTopic-0 to offset 0.
12-10-2019 10:54:33.758 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Resetting offset for partition errorTopic-1 to offset 1.
12-10-2019 10:54:33.763 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.k.c.consumer.internals.Fetcher.resetOffsetIfNeeded - [Consumer clientId=consumer-2, groupId=5410fdc7-9f49-44de-b568-e14a7c87ee4f] Resetting offset for partition errorTopic-2 to offset 0.
12-10-2019 10:54:33.766 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:33.775 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:33.777 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:33.778 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:33.778 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:33.782 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:33.809 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-8 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       684]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       621]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:33.861 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:34.375 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 10:54:34.510 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read item from DB is [{item_i=77, sku=100, item_description=SamsungTV, price=500.00, create_ts=2019-10-12 10:54:34.394274}]
12-10-2019 10:54:34.520 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 10:54:34.524 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:54:34.526 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:54:34.538 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] ERROR route1.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:54:34.542 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 10:54:40.737 [kafka-producer-network-thread | producer-1] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:54:40.751 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-12 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-11). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@77b2be78]]]}], Channel[sendTo(kafka://errorTopic?brokers=localhost%3A9092)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consu] [      6220]
[route1            ] [log3              ] [log                                                                           ] [         2]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@7177caed]               ] [         2]
[route1            ] [log4              ] [log                                                                           ] [         1]
[route1            ] [process4          ] [Processor@0x57000ac7                                                          ] [         0]
[route1            ] [log2              ] [log                                                                           ] [         4]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [      6181]
[route1            ] [process3          ] [Processor@0x77b2be78                                                          ] [      6181]
[route1            ] [to1               ] [{{kafkaErrorRoute}}                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.doRun(KafkaConsumer.java:326)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.run(KafkaConsumer.java:215)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 10:54:40.784 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:40.792 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Testing done: kafkaRoute_invalidSku(com.learncamel.learncamelspringboot.route.KafkaRouteTest)
12-10-2019 10:54:40.797 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - Took: 7.325 seconds (7325 millis)
12-10-2019 10:54:40.800 [Test worker] INFO  c.l.l.route.KafkaRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:40.805 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.a.c.component.kafka.KafkaConsumer.log - Error during processing. Exchange[ID-amy-VirtualBox-1570830865902-0-11]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for ABC TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.doRun(KafkaConsumer.java:326)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.run(KafkaConsumer.java:215)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 10:54:40.805 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteTest.kafkaRoute_invalidSku
12-10-2019 10:54:40.853 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest], using SpringBootContextLoader
12-10-2019 10:54:40.855 [Test worker] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:54:40.860 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest]: SimpleCamelRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:54:40.872 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest
12-10-2019 10:54:40.882 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:54:40.885 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26701b8f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5013fd84, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2e963517, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@54af537e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@72259607, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3d15ba1a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@22b41e22, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@cae8da9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5265b795, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@42b012a9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@407751d3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@38cc4fb1]
12-10-2019 10:54:40.887 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest
12-10-2019 10:54:41.005 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.logStarting - Starting SimpleCamelRouteMockTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:54:41.007 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 10:54:42.321 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:54:42.371 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:54:42.372 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.374 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.379 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.382 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.385 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:54:42.385 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.386 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.388 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:42.423 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:54:42.481 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:42.501 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:42.580 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:54:42.582 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:54:42.586 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:54:42.589 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:54:42.591 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:54:42.594 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:54:42.600 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:54:42.601 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:54:42.602 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:54:42.604 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:54:42.606 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:54:43.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:43.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:43.119 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:43.121 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:43.124 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:43.127 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:43.136 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-14 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-13). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-13]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        20]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        20]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-13]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:43.153 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-13]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-13]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-13]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:44.049 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:54:44.555 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:54:46.409 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:54:46.545 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:54:46.549 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:54:46.552 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:54:46.580 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:54:46.583 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 10:54:46.587 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:54:46.602 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.logStarted - Started SimpleCamelRouteMockTest in 5.709 seconds (JVM running for 36.995)
12-10-2019 10:54:46.614 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:54:46.617 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 10:54:46.622 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 10:54:46.676 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest.moveFile
12-10-2019 10:54:46.680 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:54:46.683 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:54:46.685 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 10:54:46.687 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:54:46.797 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 10:54:46.857 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 10:54:46.912 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 10:54:46.936 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 10:54:47.041 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:54:47.199 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 10:54:47.201 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: direct://input
12-10-2019 10:54:47.209 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 10:54:47.215 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:54:47.217 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.532 seconds
12-10-2019 10:54:47.225 [Test worker] INFO  mainRoute.log - Timer Invoked and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500 MOCK_TEST Environment
12-10-2019 10:54:47.234 [Test worker] INFO  mainRoute.log - PollEnrich: mock env flow and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 10:54:47.236 [Test worker] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 10:54:47.415 [Test worker] INFO  mainRoute.log - The unmarshalled object is [Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00), Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)]
12-10-2019 10:54:47.423 [Test worker] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:54:47.425 [Test worker] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:54:47.425 [Test worker] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:54:47.426 [Test worker] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'Samsung TV', 500.00)
12-10-2019 10:54:47.432 [Test worker] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:54:47.434 [Test worker] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:54:47.435 [Test worker] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:54:47.437 [Test worker] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('101', 'LG TV', 500.00)
12-10-2019 10:54:47.449 [Test worker] INFO  o.a.c.component.mock.MockEndpoint.assertIsSatisfied - Asserting: mock://output1 is satisfied
12-10-2019 10:54:47.453 [Test worker] INFO  o.a.c.component.mock.MockEndpoint.assertIsSatisfied - Asserting: mock://output2 is satisfied
12-10-2019 10:54:47.454 [Test worker] INFO  o.a.c.component.mock.MockEndpoint.assertIsSatisfied - Asserting: mock://output3 is satisfied
12-10-2019 10:54:47.472 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 10:54:47.473 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:54:47.502 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 10:54:47.502 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: direct://input
12-10-2019 10:54:47.503 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 10:54:47.504 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:54:47.552 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 0.866 seconds
12-10-2019 10:54:47.555 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 0.083 seconds
12-10-2019 10:54:47.599 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:54:47.605 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:47.609 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - Testing done: moveFile(com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest)
12-10-2019 10:54:47.609 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - Took: 0.388 seconds (388 millis)
12-10-2019 10:54:47.615 [Test worker] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:47.616 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest.moveFile
12-10-2019 10:54:47.620 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.HealthRouteMockTest], using SpringBootContextLoader
12-10-2019 10:54:47.623 [Test worker] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.HealthRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:54:47.625 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.HealthRouteMockTest]: HealthRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:54:47.636 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.HealthRouteMockTest
12-10-2019 10:54:47.638 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:54:47.639 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@35ed5609, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1a290796, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1967a7fe, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@642c2ce0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3b2e6372, org.springframework.test.context.transaction.TransactionalTestExecutionListener@69e9c636, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4d15d4a2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@485bbacc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@267546, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2759db02, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@440abb8f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5112e418]
12-10-2019 10:54:47.650 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.HealthRouteMockTest
12-10-2019 10:54:47.750 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.logStarting - Starting HealthRouteMockTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:54:47.753 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 10:54:48.719 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:54:48.775 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:54:48.777 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.782 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.784 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.786 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.786 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:54:48.787 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.789 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.791 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:48.809 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:54:48.858 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:48.875 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:48.982 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:54:48.986 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:54:48.987 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:54:48.989 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:54:48.990 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:54:48.995 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:54:48.998 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:54:49.001 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:54:49.004 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:54:49.015 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:54:49.020 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:54:49.883 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:54:50.237 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:54:52.074 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:54:52.201 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:54:52.204 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:54:52.205 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:54:52.239 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:54:52.242 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:54:52.264 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.logStarted - Started HealthRouteMockTest in 4.61 seconds (JVM running for 42.657)
12-10-2019 10:54:52.271 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:54:52.272 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 10:54:52.272 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 10:54:52.312 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.HealthRouteMockTest.healthRouteTest
12-10-2019 10:54:52.313 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:54:52.314 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:54:52.318 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) is starting
12-10-2019 10:54:52.319 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:54:52.396 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 10:54:52.442 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 10:54:52.507 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 10:54:52.529 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 10:54:52.634 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:54:52.786 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 10:54:52.796 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route3 started and consuming from: direct://input
12-10-2019 10:54:52.805 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 10:54:52.808 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:54:52.810 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) started in 0.492 seconds
12-10-2019 10:54:52.957 [Test worker] INFO  c.l.l.process.HealthCheckProcessor.process - Exception message is: mail component in the route is down
12-10-2019 10:54:52.989 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutting down
12-10-2019 10:54:52.993 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:54:53.008 [Camel (camel-3) thread #9 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 10:54:53.014 [Camel (camel-3) thread #9 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route3 shutdown complete, was consuming from: direct://input
12-10-2019 10:54:53.020 [Camel (camel-3) thread #9 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 10:54:53.020 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:54:53.049 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) uptime 0.731 seconds
12-10-2019 10:54:53.051 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutdown in 0.062 seconds
12-10-2019 10:54:53.082 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:54:53.102 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:53.102 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - Testing done: healthRouteTest(com.learncamel.learncamelspringboot.route.HealthRouteMockTest)
12-10-2019 10:54:53.105 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - Took: 0.289 seconds (289 millis)
12-10-2019 10:54:53.107 [Test worker] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:54:53.107 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.HealthRouteMockTest.healthRouteTest
12-10-2019 10:54:53.115 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:53.118 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-16 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-15). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-15]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         2]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         2]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-15]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:53.118 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-15]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-15]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-15]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:53.137 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest], using SpringBootContextLoader
12-10-2019 10:54:53.141 [Test worker] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:54:53.143 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:54:53.148 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:54:53.153 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:54:53.154 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6ab54ea6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f2ebf63, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@b773d8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7bb82809, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3bb889a6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4197fc15, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7a057e4c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@40c7e965, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3fcdad62, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41c499da, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@106268b0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6f913718]
12-10-2019 10:54:53.155 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:54:53.321 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:54:53.330 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:54:54.636 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:54:54.682 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:54:54.688 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.689 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.695 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.695 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.698 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:54:54.699 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.701 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.702 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:54:54.729 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:54:54.815 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:54.848 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:54:54.940 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:54:54.950 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:54:54.957 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:54:54.966 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:54:54.975 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:54:54.978 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:54:54.985 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:54:54.986 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:54:54.986 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:54:54.988 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:54:54.993 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:54:56.064 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:54:56.365 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:54:58.003 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:54:58.118 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:54:58.122 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:54:58.123 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:54:58.139 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:54:58.141 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:54:58.163 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.99 seconds (JVM running for 48.556)
12-10-2019 10:54:58.170 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:54:58.196 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 10:54:58.196 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:54:58.196 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:54:58.198 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) is starting
12-10-2019 10:54:58.199 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:54:58.513 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:54:58.628 [Test worker] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:54:58.652 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:54:58.652 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:54:58.655 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:54:58.661 [Test worker] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:54:58.664 [Test worker] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:54:58.698 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:54:58.703 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:54:58.707 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route4 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:54:58.710 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:54:58.725 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:54:58.726 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) started in 0.528 seconds
12-10-2019 10:54:58.710 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:54:58.751 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:54:58.754 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:54:58.765 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-3, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:54:58.766 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-3, groupId=itemDev] (Re-)joining group
12-10-2019 10:54:58.965 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 10:54:58.978 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is [Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00), Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)]
12-10-2019 10:54:58.983 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:54:58.984 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:54:58.985 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:54:58.985 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'Samsung TV', 500.00)
12-10-2019 10:54:59.002 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:54:59.006 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:54:59.007 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:54:59.013 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('101', 'LG TV', 500.00)
12-10-2019 10:54:59.023 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:54:59.035 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:54:59.694 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:54:59.700 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:54:59.704 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:54:59.720 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Successfully joined group with generation 14
12-10-2019 10:54:59.720 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-3, groupId=itemDev] Setting newly assigned partitions []
12-10-2019 10:54:59.738 [Camel (camel-4) thread #12 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:54:59.739 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 14
12-10-2019 10:54:59.739 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:54:59.745 [Camel (camel-4) thread #12 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:54:59.787 [Camel (camel-4) thread #11 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:59.789 [Camel (camel-4) thread #11 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:59.793 [Camel (camel-4) thread #11 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:59.793 [Camel (camel-4) thread #11 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:59.794 [Camel (camel-4) thread #11 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:54:59.794 [Camel (camel-4) thread #11 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:54:59.799 [Camel (camel-4) thread #11 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-3-5 on ExchangeId: ID-amy-VirtualBox-1570830865902-3-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        73]
[healthRoute       ] [choice19          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich7       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        61]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:59.806 [Camel (camel-4) thread #11 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-3-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:54:59.986 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 10:54:59.989 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:54:59.990 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:54:59.994 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] ERROR route1.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:55:00.004 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 10:55:01.851 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutting down
12-10-2019 10:55:01.873 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:55:01.879 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:55:03.113 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:03.113 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:03.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:03.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:03.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:03.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:03.121 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-27 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-26). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-26]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         6]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         4]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-26]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:03.132 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-26]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-26]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-26]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:03.881 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@75f0fe11[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:55:04.721 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:55:04.721 [Camel (camel-4) thread #10 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:55:04.755 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route4 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:55:04.760 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:04.762 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=5024]
12-10-2019 10:55:04.915 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-25 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-24). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@77b2be78]]]}], Channel[sendTo(kafka://errorTopic?brokers=localhost%3A9092)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consu] [      4926]
[route1            ] [log3              ] [log                                                                           ] [         4]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@7177caed]               ] [         1]
[route1            ] [log4              ] [log                                                                           ] [         0]
[route1            ] [process4          ] [Processor@0x57000ac7                                                          ] [      4920]
[route1            ] [log2              ] [log                                                                           ] [        10]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [      4897]
[route1            ] [process3          ] [Processor@0x77b2be78                                                          ] [      4897]
[route1            ] [to1               ] [{{kafkaErrorRoute}}                                                           ] [         8]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.doRun(KafkaConsumer.java:326)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.run(KafkaConsumer.java:215)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 10:55:04.919 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] WARN  o.a.c.component.kafka.KafkaConsumer.log - Error during processing. Exchange[ID-amy-VirtualBox-1570830865902-0-24]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for ABC TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.doRun(KafkaConsumer.java:326)
	at org.apache.camel.component.kafka.KafkaConsumer$KafkaFetchRecords.run(KafkaConsumer.java:215)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 10:55:05.767 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:05.768 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=6030]
12-10-2019 10:55:05.792 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:55:05.797 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:55:05.797 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:05.804 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 15
12-10-2019 10:55:05.808 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:55:06.768 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:06.769 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=7031]
12-10-2019 10:55:07.769 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:07.770 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=8032]
12-10-2019 10:55:08.770 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:08.770 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=9032]
12-10-2019 10:55:09.771 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:09.775 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=10037]
12-10-2019 10:55:10.776 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:10.777 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=11039]
12-10-2019 10:55:11.777 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:11.777 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=12039]
12-10-2019 10:55:11.877 [Test worker] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 10:55:11.878 [Camel (camel-4) thread #13 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 10:55:11.880 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:55:11.880 [Camel (camel-4) thread #13 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:55:11.878 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-3-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich8, elapsed=0, duration=12140]
12-10-2019 10:55:11.886 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 10:55:11.897 [Test worker] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 10:55:11.901 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) uptime 13.703 seconds
12-10-2019 10:55:11.902 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutdown in 10.051 seconds
12-10-2019 10:55:11.917 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:55:11.924 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:55:11.926 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:55:11.927 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.198 seconds (13198 millis)
12-10-2019 10:55:11.927 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:55:11.928 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 10:55:11.929 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:55:12.020 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:55:12.022 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:55:12.261 [Camel (camel-4) thread #12 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-3-3]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-3-3]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-3-3]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:55:12.833 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:55:12.864 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:55:12.865 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.866 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.869 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.869 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.869 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:55:12.870 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.870 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.871 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:12.884 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:55:12.934 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:55:12.953 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:55:13.052 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:55:13.059 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:55:13.060 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:55:13.062 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:55:13.064 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:55:13.068 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:55:13.069 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:55:13.071 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:55:13.079 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:55:13.080 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:55:13.080 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:55:13.113 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:13.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:13.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:13.118 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:13.118 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:13.119 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:13.120 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-29 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-28). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-28]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         8]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         7]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-28]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:13.134 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-28]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-28]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-28]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:14.503 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:55:14.793 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:55:16.317 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:55:16.428 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:55:16.433 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:55:16.434 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:55:16.462 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:55:16.464 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:55:16.485 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.553 seconds (JVM running for 66.878)
12-10-2019 10:55:16.493 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:55:16.518 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 10:55:16.518 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:55:16.520 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:55:16.522 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-5) is starting
12-10-2019 10:55:16.523 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:55:16.792 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:55:16.907 [Test worker] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:55:16.931 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:55:16.932 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:55:16.934 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:55:16.940 [Test worker] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:55:16.944 [Test worker] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:55:16.963 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:55:16.964 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:55:16.966 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route5 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:55:16.968 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:55:16.969 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:55:16.983 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:55:16.983 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-5) started in 0.462 seconds
12-10-2019 10:55:17.002 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:55:17.007 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:55:17.013 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-4, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:55:17.013 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-4, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:17.299 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
DELETE,100,Samsung TV,600
12-10-2019 10:55:17.300 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:17.302 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:17.302 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:17.306 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:17.307 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is delete from items where sku = '100'
12-10-2019 10:55:17.458 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:55:17.459 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:55:17.812 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:55:17.814 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:55:17.814 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:17.825 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Successfully joined group with generation 16
12-10-2019 10:55:17.826 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-4, groupId=itemDev] Setting newly assigned partitions []
12-10-2019 10:55:17.827 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 16
12-10-2019 10:55:17.827 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:55:17.983 [Camel (camel-5) thread #16 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:55:17.983 [Camel (camel-5) thread #16 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:55:18.009 [Camel (camel-5) thread #15 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:18.010 [Camel (camel-5) thread #15 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:18.011 [Camel (camel-5) thread #15 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:18.011 [Camel (camel-5) thread #15 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:18.012 [Camel (camel-5) thread #15 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:18.014 [Camel (camel-5) thread #15 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:18.015 [Camel (camel-5) thread #15 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-4-5 on ExchangeId: ID-amy-VirtualBox-1570830865902-4-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-4-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        33]
[healthRoute       ] [choice25          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich9       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        31]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-4-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:18.025 [Camel (camel-5) thread #15 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-4-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-4-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-4-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:20.065 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-5) is shutting down
12-10-2019 10:55:20.068 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:55:20.077 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:55:22.077 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@1b68345a[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:55:22.827 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:55:22.827 [Camel (camel-5) thread #14 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:55:22.882 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route5 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:55:22.900 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:22.901 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=4918]
12-10-2019 10:55:23.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:23.122 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:23.123 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:23.123 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:23.132 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:23.133 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:23.138 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-36 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-35). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-35]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        21]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        21]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-35]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:23.143 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-35]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-35]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-35]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:23.831 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:55:23.837 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:55:23.839 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:23.845 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 17
12-10-2019 10:55:23.846 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:55:23.901 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:23.901 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=5918]
12-10-2019 10:55:24.903 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:24.910 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=6927]
12-10-2019 10:55:25.913 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:25.913 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=7930]
12-10-2019 10:55:26.913 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:26.914 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=8931]
12-10-2019 10:55:27.914 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:27.915 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=9932]
12-10-2019 10:55:28.917 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:28.926 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=10943]
12-10-2019 10:55:29.930 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:29.930 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=11947]
12-10-2019 10:55:30.077 [Test worker] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 10:55:30.077 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-4-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich10, elapsed=0, duration=12094]
12-10-2019 10:55:30.079 [Camel (camel-5) thread #17 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 10:55:30.079 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:55:30.081 [Camel (camel-5) thread #17 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:55:30.082 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 10:55:30.091 [Test worker] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 10:55:30.095 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-5) uptime 13.574 seconds
12-10-2019 10:55:30.096 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-5) is shutdown in 10.031 seconds
12-10-2019 10:55:30.104 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:55:30.108 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:55:30.109 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_delete(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:55:30.110 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.124 seconds (13124 millis)
12-10-2019 10:55:30.111 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:55:30.114 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 10:55:30.116 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:55:30.209 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:55:30.212 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:55:30.517 [Camel (camel-5) thread #16 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-4-3]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-4-3]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-4-3]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:55:30.962 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:55:31.007 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:55:31.008 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.008 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.008 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.009 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.009 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:55:31.009 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.010 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.012 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:31.030 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:55:31.077 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:55:31.093 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:55:31.161 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:55:31.171 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:55:31.172 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:55:31.175 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:55:31.176 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:55:31.177 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:55:31.178 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:55:31.179 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:55:31.180 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:55:31.185 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:55:31.187 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:55:31.994 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:55:32.261 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:55:33.114 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:33.115 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:33.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:33.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:33.118 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:33.121 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:33.123 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-38 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-37). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-37]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         8]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         7]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-37]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:33.128 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-37]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-37]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-37]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:33.873 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:55:33.994 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:55:33.996 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:55:33.997 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:55:34.017 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:55:34.019 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:55:34.040 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.917 seconds (JVM running for 84.433)
12-10-2019 10:55:34.047 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:55:34.071 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 10:55:34.072 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:55:34.072 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:55:34.075 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-6) is starting
12-10-2019 10:55:34.075 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:55:34.285 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:55:34.438 [Test worker] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:55:34.462 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:55:34.463 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:55:34.472 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:55:34.476 [Test worker] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:55:34.480 [Test worker] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:55:34.509 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:55:34.510 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:55:34.514 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route6 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:55:34.517 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:55:34.516 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:55:34.529 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:55:34.529 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-6) started in 0.454 seconds
12-10-2019 10:55:34.546 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:55:34.548 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-5, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:55:34.559 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-5, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:55:34.559 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-5, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:35.010 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
UPDATE,100,Samsung TV,600
12-10-2019 10:55:35.014 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:35.017 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:35.018 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:35.021 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:55:35.022 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is update items set price = 600.00 where sku = '100'
12-10-2019 10:55:35.029 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:55:35.030 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:55:35.530 [Camel (camel-6) thread #20 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:55:35.537 [Camel (camel-6) thread #20 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:55:35.558 [Camel (camel-6) thread #19 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:35.558 [Camel (camel-6) thread #19 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:35.559 [Camel (camel-6) thread #19 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:35.559 [Camel (camel-6) thread #19 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:35.562 [Camel (camel-6) thread #19 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:35.562 [Camel (camel-6) thread #19 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:35.563 [Camel (camel-6) thread #19 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-5-5 on ExchangeId: ID-amy-VirtualBox-1570830865902-5-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-5-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        33]
[healthRoute       ] [choice31          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich11      ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        23]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-5-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:35.573 [Camel (camel-6) thread #19 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-5-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-5-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-5-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:35.852 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:55:35.855 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:55:35.858 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:35.865 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-5, groupId=itemDev] Successfully joined group with generation 18
12-10-2019 10:55:35.868 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-5, groupId=itemDev] Setting newly assigned partitions []
12-10-2019 10:55:35.877 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 18
12-10-2019 10:55:35.883 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:55:37.585 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-6) is shutting down
12-10-2019 10:55:37.586 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:55:37.590 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:55:39.591 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@495fb6f7[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:55:40.878 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:55:40.879 [Camel (camel-6) thread #18 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:55:40.907 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route6 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:55:40.910 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:40.910 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=5380]
12-10-2019 10:55:41.883 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:55:41.889 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:55:41.889 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:41.894 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 19
12-10-2019 10:55:41.894 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:55:41.910 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:41.911 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=6381]
12-10-2019 10:55:42.911 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:42.912 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=7382]
12-10-2019 10:55:43.115 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:43.119 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:43.120 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:43.120 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:43.121 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:43.121 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:43.122 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-45 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-44). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-44]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         8]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         7]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-44]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:43.126 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-44]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-44]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-44]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:43.912 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:43.913 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=8383]
12-10-2019 10:55:44.913 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:44.916 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=9386]
12-10-2019 10:55:45.917 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:45.918 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=10388]
12-10-2019 10:55:46.918 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:55:46.933 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=11403]
12-10-2019 10:55:47.590 [Test worker] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 10:55:47.591 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-5-3, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich12, elapsed=0, duration=12061]
12-10-2019 10:55:47.592 [Camel (camel-6) thread #21 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 10:55:47.592 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:55:47.592 [Camel (camel-6) thread #21 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:55:47.594 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 10:55:47.601 [Test worker] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 10:55:47.604 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-6) uptime 13.529 seconds
12-10-2019 10:55:47.605 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-6) is shutdown in 10.020 seconds
12-10-2019 10:55:47.612 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:55:47.617 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:55:47.618 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_update(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:55:47.619 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.087 seconds (13087 millis)
12-10-2019 10:55:47.619 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:55:47.619 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 10:55:47.621 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:55:47.704 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:55:47.705 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:55:48.050 [Camel (camel-6) thread #20 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-5-3]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-5-3]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-5-3]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:55:48.425 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:55:48.458 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:55:48.461 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.464 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.467 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.467 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.472 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:55:48.472 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.473 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.473 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:55:48.489 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:55:48.535 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:55:48.559 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:55:48.659 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:55:48.660 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:55:48.661 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:55:48.670 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:55:48.671 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:55:48.673 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:55:48.674 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:55:48.675 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:55:48.678 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:55:48.682 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:55:48.690 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:55:49.440 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:55:49.733 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:55:51.107 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:55:51.215 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:55:51.217 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:55:51.218 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:55:51.231 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:55:51.234 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:55:51.296 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.673 seconds (JVM running for 101.69)
12-10-2019 10:55:51.304 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:55:51.327 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 10:55:51.327 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:55:51.329 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:55:51.330 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-7) is starting
12-10-2019 10:55:51.331 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:55:51.603 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:55:51.720 [Test worker] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:55:51.742 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:55:51.742 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:55:51.748 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:55:51.749 [Test worker] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:55:51.754 [Test worker] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:55:51.817 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:55:51.817 [Test worker] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:55:51.822 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route7 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:55:51.824 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:55:51.824 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:55:51.832 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:55:51.833 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-7) started in 0.503 seconds
12-10-2019 10:55:51.846 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:55:51.847 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - sending now
12-10-2019 10:55:51.847 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-6, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:55:51.857 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-6, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:55:51.858 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-6, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:52.047 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,,Samsung TV,500
12-10-2019 10:55:52.049 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.051 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.056 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.058 [Camel (camel-1) thread #3 - timer://hello] ERROR mainRoute.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.059 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - DataException: non-mock env flow and the body is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.059 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 10:55:52.838 [Camel (camel-7) thread #24 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:55:52.850 [Camel (camel-7) thread #24 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:55:52.865 [Camel (camel-7) thread #24 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,,Samsung TV,500
12-10-2019 10:55:52.875 [Camel (camel-7) thread #24 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.882 [Camel (camel-7) thread #24 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.883 [Camel (camel-7) thread #24 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.884 [Camel (camel-7) thread #24 - timer://hello] ERROR mainRoute.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.887 [Camel (camel-7) thread #24 - timer://hello] INFO  mainRoute.log - DataException: non-mock env flow and the body is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:55:52.888 [Camel (camel-7) thread #24 - timer://hello] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 10:55:52.904 [Camel (camel-7) thread #23 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:52.905 [Camel (camel-7) thread #23 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:52.907 [Camel (camel-7) thread #23 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:52.910 [Camel (camel-7) thread #23 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:52.916 [Camel (camel-7) thread #23 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:52.916 [Camel (camel-7) thread #23 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:52.918 [Camel (camel-7) thread #23 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-6-8 on ExchangeId: ID-amy-VirtualBox-1570830865902-6-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-6-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        89]
[healthRoute       ] [choice37          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich13      ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        63]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-6-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:52.930 [Camel (camel-7) thread #23 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-6-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-6-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-6-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:53.116 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:53.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:53.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:55:53.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:55:53.122 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-50 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-49). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-49]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         4]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         3]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-49]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:53.125 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-49]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-49]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-49]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:55:53.898 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:55:53.904 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:55:53.904 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:55:53.908 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-6, groupId=itemDev] Successfully joined group with generation 20
12-10-2019 10:55:53.909 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-6, groupId=itemDev] Setting newly assigned partitions []
12-10-2019 10:55:53.910 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 20
12-10-2019 10:55:53.910 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:55:56.842 [Camel (camel-1) thread #3 - timer://hello] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@216af6e2 for file: GenericFile[fileTest.txt]
12-10-2019 10:55:56.845 [Camel (camel-1) thread #3 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-42]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for Samsung TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for Samsung TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:715)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:638)
	at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:248)
	at org.apache.camel.processor.Splitter.process(Splitter.java:129)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:55:56.856 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:55:56.856 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:55:57.786 [Camel (camel-7) thread #24 - timer://hello] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@5f2e5b31 for file: GenericFile[fileTest.txt]
12-10-2019 10:55:57.788 [Camel (camel-7) thread #24 - timer://hello] WARN  o.a.c.c.file.GenericFileOnCompletion.log - Error during rollback. Exchange[ID-amy-VirtualBox-1570830865902-6-3]. Caused by: [org.apache.camel.component.file.GenericFileOperationFailedException - Cannot rename file: GenericFile[fileTest.txt] to: GenericFile[error/fileTest.txt]]
org.apache.camel.component.file.GenericFileOperationFailedException: Cannot rename file: GenericFile[fileTest.txt] to: GenericFile[error/fileTest.txt]
	at org.apache.camel.component.file.strategy.GenericFileProcessStrategySupport.renameFile(GenericFileProcessStrategySupport.java:130)
	at org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy.rollback(GenericFileDeleteProcessStrategy.java:116)
	at org.apache.camel.component.file.GenericFileOnCompletion.processStrategyRollback(GenericFileOnCompletion.java:154)
	at org.apache.camel.component.file.GenericFileOnCompletion.onCompletion(GenericFileOnCompletion.java:89)
	at org.apache.camel.component.file.GenericFileOnCompletion.onFailure(GenericFileOnCompletion.java:63)
	at org.apache.camel.util.UnitOfWorkHelper.doneSynchronizations(UnitOfWorkHelper.java:101)
	at org.apache.camel.impl.DefaultUnitOfWork.done(DefaultUnitOfWork.java:243)
	at org.apache.camel.util.UnitOfWorkHelper.doneUow(UnitOfWorkHelper.java:65)
	at org.apache.camel.processor.CamelInternalProcessor$UnitOfWorkProcessorAdvice.after(CamelInternalProcessor.java:685)
	at org.apache.camel.processor.CamelInternalProcessor$UnitOfWorkProcessorAdvice.after(CamelInternalProcessor.java:634)
	at org.apache.camel.processor.CamelInternalProcessor$InternalCallback.done(CamelInternalProcessor.java:251)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:127)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:55:57.790 [Camel (camel-7) thread #24 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-6-3]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for Samsung TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for Samsung TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:715)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:638)
	at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:248)
	at org.apache.camel.processor.Splitter.process(Splitter.java:129)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:56:01.870 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - starting verifications
12-10-2019 10:56:01.875 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-7) is shutting down
12-10-2019 10:56:01.875 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:56:01.879 [Camel (camel-7) thread #25 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:56:03.115 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:56:03.115 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:56:03.117 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:56:03.119 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:56:03.120 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:56:03.120 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:56:03.125 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-0-54 on ExchangeId: ID-amy-VirtualBox-1570830865902-0-53). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-53]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [         8]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [         8]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-53]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:56:03.139 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-53]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-53]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570830865902-0-53]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:56:03.880 [Camel (camel-7) thread #25 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@7d88d22[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:56:03.913 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:56:03.913 [Camel (camel-7) thread #22 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:56:03.938 [Camel (camel-7) thread #25 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route7 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:56:03.949 [Camel (camel-7) thread #25 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:56:03.949 [Camel (camel-7) thread #25 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:56:03.949 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 10:56:03.965 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-7) uptime 12.635 seconds
12-10-2019 10:56:03.965 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-7) is shutdown in 2.090 seconds
12-10-2019 10:56:03.968 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:56:03.973 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:56:03.974 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add_throwsException(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:56:03.974 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 12.137 seconds (12137 millis)
12-10-2019 10:56:03.974 [Test worker] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:56:03.982 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 10:56:03.995 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using SpringBootContextLoader
12-10-2019 10:56:03.996 [Test worker] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:56:03.996 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:56:04.006 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:56:04.007 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:56:04.008 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4120c338, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@60de7049, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@485d3215, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@141fad14, org.springframework.test.context.support.DirtiesContextTestExecutionListener@536195ac, org.springframework.test.context.transaction.TransactionalTestExecutionListener@402efbb1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6142a43b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@8dcc20a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@574ffa48, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@608b7063, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@141c6335, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7a3e2f2e]
12-10-2019 10:56:04.016 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:56:04.198 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:56:04.200 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 10:56:04.999 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:56:05.016 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:56:05.019 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.020 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.020 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.021 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.021 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:56:05.022 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.023 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.023 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:05.041 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:56:05.091 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:56:05.105 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:56:05.168 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:56:05.172 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:56:05.173 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:56:05.174 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:56:05.178 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:56:05.180 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:56:05.181 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:56:05.184 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:56:05.185 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:56:05.186 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:56:05.187 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:56:05.917 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.handle - [Consumer clientId=consumer-1, groupId=itemDev] Attempt to heartbeat failed since group is rebalancing
12-10-2019 10:56:05.920 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions [inputItemTopic-0]
12-10-2019 10:56:05.920 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:56:05.926 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 21
12-10-2019 10:56:05.927 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:56:06.155 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:56:06.414 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:56:07.855 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:56:07.952 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:56:07.954 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:56:07.955 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:56:07.973 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:56:07.973 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:56:07.986 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 3.962 seconds (JVM running for 118.379)
12-10-2019 10:56:07.995 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:56:07.999 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 10:56:07.999 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 10:56:08.046 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 10:56:08.047 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:56:08.047 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:56:08.049 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-8) is starting
12-10-2019 10:56:08.050 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:56:08.093 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 10:56:08.121 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 10:56:08.147 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 10:56:08.163 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 10:56:08.216 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:56:08.353 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 10:56:08.354 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route8 started and consuming from: direct://input
12-10-2019 10:56:08.355 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 10:56:08.360 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:56:08.362 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-8) started in 0.313 seconds
12-10-2019 10:56:08.383 [Test worker] INFO  route8.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 10:56:08.387 [Test worker] INFO  route8.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:56:08.388 [Test worker] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:56:08.390 [Test worker] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 10:56:08.394 [Test worker] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:56:08.396 [Test worker] INFO  .log - Exchange[ExchangePattern: InOut, BodyType: String, Body: insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)]
12-10-2019 10:56:08.402 [Test worker] INFO  route8.log - Read item from DB is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 10:56:08.415 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-8) is shutting down
12-10-2019 10:56:08.420 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:56:08.437 [Camel (camel-8) thread #26 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 10:56:08.437 [Camel (camel-8) thread #26 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route8 shutdown complete, was consuming from: direct://input
12-10-2019 10:56:08.438 [Camel (camel-8) thread #26 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 10:56:08.439 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:56:08.448 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-8) uptime 0.399 seconds
12-10-2019 10:56:08.449 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-8) is shutdown in 0.034 seconds
12-10-2019 10:56:08.450 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:56:08.459 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:56:08.466 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 10:56:08.467 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.088 seconds (88 millis)
12-10-2019 10:56:08.468 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:56:08.468 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 10:56:08.469 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 10:56:08.539 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 24809 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:56:08.543 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 10:56:09.178 [Test worker] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:56:09.202 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:56:09.204 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.205 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.205 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.205 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.206 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:56:09.207 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.210 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.210 [Test worker] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:09.228 [Test worker] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:56:09.268 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ca2b6e16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:56:09.284 [Test worker] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a801a7f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:56:09.362 [Test worker] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:56:09.366 [Test worker] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:56:09.368 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:56:09.369 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:56:09.370 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:56:09.371 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:56:09.372 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:56:09.373 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:56:09.375 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:56:09.379 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:56:09.380 [Test worker] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:56:10.273 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:56:10.547 [Test worker] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:56:11.920 [Test worker] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:56:12.055 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:56:12.059 [Test worker] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:56:12.060 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:56:12.079 [Test worker] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:56:12.080 [Test worker] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:56:12.096 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 3.617 seconds (JVM running for 122.489)
12-10-2019 10:56:12.100 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:56:12.101 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 10:56:12.102 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 10:56:12.155 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 10:56:12.155 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:56:12.155 [Test worker] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:56:12.156 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-9) is starting
12-10-2019 10:56:12.157 [Test worker] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:56:12.248 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 10:56:12.271 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 10:56:12.292 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 10:56:12.305 [Test worker] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 10:56:12.375 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:56:12.495 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 10:56:12.496 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route9 started and consuming from: direct://input
12-10-2019 10:56:12.499 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 10:56:12.499 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:56:12.500 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-9) started in 0.344 seconds
12-10-2019 10:56:12.505 [Test worker] INFO  route9.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 10:56:12.514 [Test worker] INFO  route9.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:56:12.515 [Test worker] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:56:12.516 [Test worker] ERROR route9.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 10:56:12.523 [Test worker] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570830865902-8-2 on ExchangeId: ID-amy-VirtualBox-1570830865902-8-1). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route9)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@49ed47ff]]]}], Channel[sendTo(mock://output4)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route9            ] [route9            ] [direct://input                                                                ] [        15]
[route9            ] [log123            ] [log                                                                           ] [         2]
[route9            ] [unmarshal17       ] [unmarshal[org.apache.camel.model.DataFormatDefinition@4872437b]               ] [         6]
[route9            ] [log124            ] [log                                                                           ] [         2]
[route9            ] [process76         ] [Processor@0x6f4991ad                                                          ] [         4]
[route9            ] [log122            ] [log                                                                           ] [         2]
[route9            ] [choice52          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         1]
[route9            ] [to49              ] [{{kafkaErrorRoute}}                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:76)
	at org.apache.camel.impl.InterceptSendToEndpointProcessor.process(InterceptSendToEndpointProcessor.java:112)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error(KafkaRouteMockTest.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:175)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:157)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.base/java.lang.Thread.run(Thread.java:834)
12-10-2019 10:56:12.543 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-9) is shutting down
12-10-2019 10:56:12.546 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:56:12.554 [Camel (camel-9) thread #27 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 10:56:12.555 [Camel (camel-9) thread #27 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route9 shutdown complete, was consuming from: direct://input
12-10-2019 10:56:12.559 [Camel (camel-9) thread #27 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 10:56:12.559 [Test worker] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:56:12.568 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-9) uptime 0.412 seconds
12-10-2019 10:56:12.570 [Test worker] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-9) is shutdown in 0.027 seconds
12-10-2019 10:56:12.571 [Test worker] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:56:12.573 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:56:12.575 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest_error(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 10:56:12.576 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.070 seconds (70 millis)
12-10-2019 10:56:12.578 [Test worker] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 10:56:12.578 [Test worker] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 10:56:12.602 [Thread-4] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 10:56:12.606 [Thread-4] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:56:12.615 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:56:14.620 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.002 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@40864e0a[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:56:15.087 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:56:15.091 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:56:15.136 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:56:15.137 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:15.137 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=18281]
12-10-2019 10:56:16.138 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:16.138 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=19282]
12-10-2019 10:56:17.140 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:17.140 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=20284]
12-10-2019 10:56:18.141 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:18.141 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=21285]
12-10-2019 10:56:19.142 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:19.142 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=22286]
12-10-2019 10:56:20.144 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:20.145 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=23289]
12-10-2019 10:56:21.146 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:21.146 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=24290]
12-10-2019 10:56:22.147 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
12-10-2019 10:56:22.147 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=25291]
12-10-2019 10:56:22.615 [Thread-4] WARN  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
12-10-2019 10:56:22.615 [Thread-4] INFO  o.a.c.impl.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-amy-VirtualBox-1570830865902-0-51, fromRouteId=mainRoute, routeId=mainRoute, nodeId=pollEnrich2, elapsed=0, duration=25759]
12-10-2019 10:56:22.616 [Thread-4] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 10 seconds
12-10-2019 10:56:22.617 [Camel (camel-1) thread #28 - ShutdownTask] WARN  o.a.c.impl.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
12-10-2019 10:56:22.618 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:56:22.618 [Camel (camel-1) thread #28 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:56:22.626 [Thread-4] WARN  o.a.c.impl.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
12-10-2019 10:56:22.627 [Thread-4] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: errorTopic
12-10-2019 10:56:23.046 [Camel (camel-1) thread #3 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570830865902-0-51]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-0-51]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-amy-VirtualBox-1570830865902-0-51]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:289)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:137)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:56:24.627 [Thread-4] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@1bca7aea[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[errorTopic]] to terminate...
12-10-2019 10:56:24.964 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop errorTopic-Thread 0 from topic errorTopic
12-10-2019 10:56:24.966 [Camel (camel-1) thread #6 - KafkaConsumer[errorTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing errorTopic-Thread 0 from topic errorTopic
12-10-2019 10:56:25.002 [Thread-4] INFO  o.a.k.clients.producer.KafkaProducer.close - [Producer clientId=producer-2] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
12-10-2019 10:56:25.026 [Thread-4] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 1 minute
12-10-2019 10:56:25.028 [Thread-4] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 12.426 seconds
12-10-2019 10:56:25.031 [Thread-4] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:56:25.033 [Thread-4] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 10:56:25.067 [Thread-4] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 10:56:50.767 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest], using SpringBootContextLoader
12-10-2019 10:56:50.804 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 10:56:50.810 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 10:56:51.358 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:56:51.740 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 10:56:51.808 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64b73e7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@530712d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2df6226d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@12ed9db6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ff4357f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49cb9cb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55322aab, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b4c1d96, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@45fd9a4d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@50468873, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@146587a2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f0e9815]
12-10-2019 10:56:51.918 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:56:54.308 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 25517 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:56:54.315 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:56:58.820 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:56:59.055 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:56:59.059 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.063 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.064 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.064 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.064 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:56:59.064 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.070 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.070 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:56:59.160 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:56:59.321 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:56:59.379 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:56:59.624 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:56:59.633 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:56:59.635 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:56:59.661 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:56:59.661 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:56:59.662 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:56:59.667 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:56:59.667 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:56:59.668 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:56:59.684 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:56:59.685 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:57:01.854 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:02.645 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:57:04.897 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:57:05.226 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:57:05.238 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:57:05.239 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:57:05.284 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:57:05.285 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:57:05.345 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 13.108 seconds (JVM running for 18.33)
12-10-2019 10:57:05.363 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:57:05.425 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 10:57:05.427 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:57:05.428 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:57:05.428 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 10:57:05.451 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:57:06.278 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:57:06.629 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:57:06.849 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:06.858 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:06.897 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:06.905 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:57:06.944 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:57:07.043 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:07.044 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:07.048 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:07.061 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:57:07.070 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:57:07.063 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:57:07.087 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.642 seconds
12-10-2019 10:57:07.535 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:57:07.542 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:57:07.552 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:57:07.559 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 10:57:07.605 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 23
12-10-2019 10:57:07.607 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:57:08.071 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:57:08.088 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:57:08.141 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 10:57:08.252 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is [Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00), Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)]
12-10-2019 10:57:08.271 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:08.273 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:08.287 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:08.288 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'Samsung TV', 500.00)
12-10-2019 10:57:08.295 [Camel (camel-1) thread #3 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 10:57:08.296 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:08.299 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:08.300 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:08.306 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:08.307 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:08.307 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:08.335 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570831022421-0-8 on ExchangeId: ID-amy-VirtualBox-1570831022421-0-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       253]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       229]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:08.343 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570831022421-0-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-0-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:08.932 [Camel (camel-1) thread #3 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 10:57:08.964 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:57:08.964 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:57:08.965 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 10:57:08.969 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('101', 'LG TV', 500.00)
12-10-2019 10:57:11.066 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 10:57:11.066 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:57:11.073 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:57:12.627 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:12.631 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:12.659 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:12.663 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:57:12.665 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:12.666 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 1 seconds
12-10-2019 10:57:12.680 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 7.252 seconds
12-10-2019 10:57:12.681 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 1.614 seconds
12-10-2019 10:57:12.707 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:12.715 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 10:57:12.752 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 10:57:12.754 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:12.754 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:57:12.754 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.658 seconds (5658 millis)
12-10-2019 10:57:12.755 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:12.756 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 10:57:12.760 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:57:12.918 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 25517 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:57:12.923 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:57:13.880 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:57:13.908 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:57:13.908 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.909 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.909 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.909 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.909 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:57:13.910 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.914 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.915 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:13.947 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:57:13.990 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:57:14.002 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:57:14.060 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:57:14.063 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:57:14.064 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:57:14.068 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:57:14.069 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:57:14.071 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:57:14.071 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:57:14.072 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:57:14.072 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:57:14.075 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:57:14.075 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:57:14.876 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:15.165 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:57:16.435 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:57:16.554 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:57:16.557 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:57:16.557 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:57:16.568 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:57:16.570 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:57:16.585 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.81 seconds (JVM running for 29.567)
12-10-2019 10:57:16.590 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:57:16.615 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 10:57:16.615 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:57:16.615 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:57:16.616 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 10:57:16.617 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:57:17.069 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:57:17.182 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:57:17.203 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:17.203 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:17.205 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:17.206 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:57:17.209 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:57:17.226 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:17.226 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:17.229 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:17.231 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:57:17.239 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:57:17.239 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.623 seconds
12-10-2019 10:57:17.231 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:57:17.260 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:57:17.263 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:57:17.321 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-2, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:57:17.322 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-2, groupId=itemDev] (Re-)joining group
12-10-2019 10:57:17.335 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=itemDev] Successfully joined group with generation 25
12-10-2019 10:57:17.340 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-2, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:57:18.239 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:57:18.251 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:57:18.271 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
DELETE,100,Samsung TV,600
12-10-2019 10:57:18.280 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:18.289 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:18.289 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:18.289 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:18.289 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is delete from items where sku = '100'
12-10-2019 10:57:18.292 [Camel (camel-2) thread #7 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Starting...
12-10-2019 10:57:18.311 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:18.314 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:18.314 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:18.314 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:18.314 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:18.315 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:18.323 [Camel (camel-2) thread #6 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570831022421-1-8 on ExchangeId: ID-amy-VirtualBox-1570831022421-1-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        82]
[healthRoute       ] [choice7           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich3       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        62]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:18.336 [Camel (camel-2) thread #6 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570831022421-1-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:18.354 [Camel (camel-2) thread #7 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Start completed.
12-10-2019 10:57:20.350 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 10:57:20.351 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:57:20.354 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:57:22.353 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:22.355 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@7641c4e7[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:57:22.779 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:22.805 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:22.811 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:57:22.812 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:22.812 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 10:57:22.829 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 6.213 seconds
12-10-2019 10:57:22.830 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 2.480 seconds
12-10-2019 10:57:22.852 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:22.854 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown initiated...
12-10-2019 10:57:22.899 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown completed.
12-10-2019 10:57:22.899 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:22.899 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_delete(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:57:22.900 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.660 seconds (5660 millis)
12-10-2019 10:57:22.900 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:22.901 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 10:57:22.901 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:57:23.044 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 25517 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:57:23.046 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:57:23.743 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:57:23.772 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:57:23.773 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.773 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.773 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.773 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.773 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:57:23.774 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.774 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.788 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:23.809 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:57:23.860 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:57:23.876 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:57:23.942 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:57:23.942 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:57:23.945 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:57:23.945 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:57:23.946 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:57:23.946 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:57:23.949 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:57:23.951 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:57:23.952 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:57:23.955 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:57:23.956 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:57:24.580 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:24.811 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:57:26.017 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:57:26.103 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:57:26.105 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:57:26.106 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:57:26.121 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:57:26.122 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:57:26.146 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.237 seconds (JVM running for 39.13)
12-10-2019 10:57:26.159 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:57:26.185 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 10:57:26.185 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:57:26.185 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:57:26.185 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) is starting
12-10-2019 10:57:26.185 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:57:26.479 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:57:26.576 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:57:26.591 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:26.591 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:26.596 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:26.603 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:57:26.607 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:57:26.652 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:26.652 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:26.656 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route3 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:26.658 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:57:26.663 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:57:26.676 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:57:26.678 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:57:26.678 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) started in 0.493 seconds
12-10-2019 10:57:26.680 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:57:26.691 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-3, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:57:26.691 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-3, groupId=itemDev] (Re-)joining group
12-10-2019 10:57:26.712 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Successfully joined group with generation 27
12-10-2019 10:57:26.713 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-3, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:57:27.679 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:57:27.679 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:57:27.685 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
UPDATE,100,Samsung TV,600
12-10-2019 10:57:27.696 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:27.701 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:27.702 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:27.711 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 10:57:27.711 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is update items set price = 600.00 where sku = '100'
12-10-2019 10:57:27.711 [Camel (camel-3) thread #11 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Starting...
12-10-2019 10:57:27.714 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:27.714 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:27.714 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:27.714 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:27.715 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:27.717 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:27.719 [Camel (camel-3) thread #10 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570831022421-2-8 on ExchangeId: ID-amy-VirtualBox-1570831022421-2-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        44]
[healthRoute       ] [choice13          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich5       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        42]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:27.727 [Camel (camel-3) thread #10 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570831022421-2-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:27.749 [Camel (camel-3) thread #11 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Start completed.
12-10-2019 10:57:29.729 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutting down
12-10-2019 10:57:29.730 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:57:29.734 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:57:31.720 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:31.725 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:31.737 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.002 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@40032b7b[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 10:57:31.751 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route3 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:31.753 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:57:31.753 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:31.754 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 10:57:31.771 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) uptime 5.586 seconds
12-10-2019 10:57:31.774 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutdown in 2.046 seconds
12-10-2019 10:57:31.782 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:31.786 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown initiated...
12-10-2019 10:57:31.818 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown completed.
12-10-2019 10:57:31.818 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:31.819 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_update(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:57:31.820 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.140 seconds (5140 millis)
12-10-2019 10:57:31.820 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:31.820 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 10:57:31.820 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 10:57:31.907 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 25517 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 10:57:31.907 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 10:57:32.544 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 10:57:32.577 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 10:57:32.577 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.577 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.578 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.578 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.578 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 10:57:32.580 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.582 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.583 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 10:57:32.594 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 10:57:32.628 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:57:32.639 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 10:57:32.702 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 10:57:32.707 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 10:57:32.708 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 10:57:32.710 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 10:57:32.710 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 10:57:32.713 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 10:57:32.713 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 10:57:32.714 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 10:57:32.714 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 10:57:32.714 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 10:57:32.716 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 10:57:33.296 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:33.540 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 10:57:34.669 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 10:57:34.744 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 10:57:34.745 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 10:57:34.745 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 10:57:34.789 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 10:57:34.790 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 10:57:34.806 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.979 seconds (JVM running for 47.791)
12-10-2019 10:57:34.812 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 10:57:34.827 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 10:57:34.828 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 10:57:34.828 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 10:57:34.828 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) is starting
12-10-2019 10:57:34.828 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 10:57:35.067 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 10:57:35.169 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 10:57:35.180 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:35.180 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:35.185 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:35.185 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 10:57:35.189 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 10:57:35.199 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 10:57:35.199 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 10:57:35.203 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route4 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:35.204 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 10:57:35.208 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 10:57:35.208 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) started in 0.380 seconds
12-10-2019 10:57:35.204 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 10:57:35.217 [main] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - sending now
12-10-2019 10:57:35.220 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 10:57:35.221 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 10:57:35.227 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-4, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 10:57:35.227 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-4, groupId=itemDev] (Re-)joining group
12-10-2019 10:57:35.237 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Successfully joined group with generation 29
12-10-2019 10:57:35.239 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-4, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 10:57:36.208 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 10:57:36.217 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 10:57:36.225 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,,Samsung TV,500
12-10-2019 10:57:36.235 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:36.238 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:36.240 [Camel (camel-4) thread #15 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:36.245 [Camel (camel-4) thread #15 - timer://hello] ERROR mainRoute.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:36.252 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - DataException: non-mock env flow and the body is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 10:57:36.252 [Camel (camel-4) thread #15 - timer://hello] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 10:57:36.256 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:36.256 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:36.256 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:36.262 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:36.267 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 10:57:36.267 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 10:57:36.273 [Camel (camel-4) thread #14 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570831022421-3-8 on ExchangeId: ID-amy-VirtualBox-1570831022421-3-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        64]
[healthRoute       ] [choice19          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich7       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        47]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:36.274 [Camel (camel-4) thread #14 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570831022421-3-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570831022421-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 10:57:41.646 [Camel (camel-4) thread #15 - timer://hello] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@5f522765 for file: GenericFile[fileTest.txt]
12-10-2019 10:57:41.649 [Camel (camel-4) thread #15 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570831022421-3-3]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for Samsung TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for Samsung TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:715)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:638)
	at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:248)
	at org.apache.camel.processor.Splitter.process(Splitter.java:129)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 10:57:45.231 [main] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - starting verifications
12-10-2019 10:57:45.243 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutting down
12-10-2019 10:57:45.248 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 10:57:45.255 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:45.257 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 10:57:45.253 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 10:57:45.271 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route4 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 10:57:45.280 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 10:57:45.280 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 10:57:45.281 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 10:57:45.284 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) uptime 10.456 seconds
12-10-2019 10:57:45.303 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutdown in 0.059 seconds
12-10-2019 10:57:45.308 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 10:57:45.316 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:45.316 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add_throwsException(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 10:57:45.316 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 10.108 seconds (10108 millis)
12-10-2019 10:57:45.316 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 10:57:45.316 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 11:18:21.533 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using DelegatingSmartContextLoader
12-10-2019 11:18:21.563 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml}.
12-10-2019 11:18:21.580 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:18:21.892 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:18:21.935 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@448c8166, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4470fbd6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@15d49048, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7098b907, org.springframework.test.context.support.DirtiesContextTestExecutionListener@503f91c3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13526e59, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2235eaab, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@17503f6b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3bcd05cb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3b6d844d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@36804139, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@20bd8be5]
12-10-2019 11:18:22.019 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:18:22.962 [main] ERROR o.s.test.context.TestContextManager.prepareTestInstance - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7098b907] to prepare test instance [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest@2e61d218]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.learncamel.learncamelspringboot.route.KafkaRouteMockTest': Unsatisfied dependency expressed through field 'producerTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.apache.camel.ProducerTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:391)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.apache.camel.ProducerTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1658)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1217)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 27 common frames omitted
12-10-2019 11:18:23.053 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:18:23.063 [main] ERROR o.s.test.context.TestContextManager.prepareTestInstance - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7098b907] to prepare test instance [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest@78365cfa]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.learncamel.learncamelspringboot.route.KafkaRouteMockTest': Unsatisfied dependency expressed through field 'producerTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.apache.camel.ProducerTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:391)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.apache.camel.ProducerTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1658)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1217)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 27 common frames omitted
12-10-2019 11:19:05.837 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using SpringBootContextLoader
12-10-2019 11:19:05.877 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 11:19:05.888 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:19:06.478 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:19:06.872 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:19:06.938 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@50468873, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@146587a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5f0e9815, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@76884e4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@126945f9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a898881, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16c63f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35229f85, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d3c5255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b1712f3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6986bbaf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4879dfad]
12-10-2019 11:19:07.031 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:19:09.240 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 30484 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:19:09.250 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 11:19:14.674 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:19:14.848 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:19:14.853 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:14.862 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:14.862 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:14.865 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:14.866 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:19:14.871 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:14.873 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:14.873 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:15.025 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:19:15.159 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$758fdb91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:19:15.189 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$53661572] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:19:15.409 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:19:15.421 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:19:15.426 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:19:15.444 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:19:15.445 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:19:15.454 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:19:15.455 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:19:15.455 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:19:15.456 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:19:15.479 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:19:15.480 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:19:17.614 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:19:18.384 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:19:20.641 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:19:20.971 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:19:20.985 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:19:20.985 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:19:21.035 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:19:21.035 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:19:21.111 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 13.793 seconds (JVM running for 18.5)
12-10-2019 11:19:21.148 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:19:21.150 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 11:19:21.153 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 11:19:21.366 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 11:19:21.373 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:19:21.374 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:19:21.381 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 11:19:21.384 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:19:21.939 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 11:19:22.068 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 11:19:22.142 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 11:19:22.178 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 11:19:22.293 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:19:22.610 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 11:19:22.611 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 11:19:22.617 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 11:19:22.618 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:19:22.621 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.239 seconds
12-10-2019 11:19:23.390 [main] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 11:19:23.446 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 11:19:23.449 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 11:19:23.450 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 11:19:23.454 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 11:19:23.456 [main] INFO  .log - Exchange[ExchangePattern: InOut, BodyType: String, Body: insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)]
12-10-2019 11:19:23.459 [main] INFO  route1.log - Read item from DB is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 11:19:23.477 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 11:19:23.478 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:19:23.499 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 11:19:23.500 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 11:19:23.500 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 11:19:23.501 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:19:23.525 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 2.143 seconds
12-10-2019 11:19:23.525 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.049 seconds
12-10-2019 11:19:23.540 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:19:23.546 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:19:23.548 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 11:19:23.548 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.924 seconds (924 millis)
12-10-2019 11:19:23.550 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:19:23.550 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 11:19:23.554 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:19:23.712 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 30484 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:19:23.714 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 11:19:24.667 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:19:24.708 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:19:24.711 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.711 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.711 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.712 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.712 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:19:24.714 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.714 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.715 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:24.757 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:19:24.818 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$758fdb91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:19:24.844 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$53661572] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:19:24.988 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:19:24.989 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:19:24.994 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:19:24.995 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:19:24.999 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:19:25.002 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:19:25.002 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:19:25.008 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:19:25.011 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:19:25.012 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:19:25.017 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:19:25.876 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:19:26.203 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:19:28.464 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:19:28.728 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:19:28.732 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:19:28.732 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:19:28.771 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:19:28.776 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:19:28.800 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 5.243 seconds (JVM running for 26.189)
12-10-2019 11:19:28.819 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:19:28.823 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 11:19:28.825 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 11:19:28.902 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 11:19:28.908 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:19:28.908 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:19:28.910 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 11:19:28.915 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:19:29.096 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 11:19:29.164 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 11:19:29.232 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 11:19:29.273 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 11:19:29.399 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:19:29.794 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 11:19:29.801 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: direct://input
12-10-2019 11:19:29.814 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 11:19:29.816 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:19:29.816 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.906 seconds
12-10-2019 11:19:29.836 [main] INFO  route2.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 11:19:29.845 [main] INFO  route2.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 11:19:29.853 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 11:19:29.870 [main] ERROR route2.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 11:19:29.926 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832358158-1-2 on ExchangeId: ID-amy-VirtualBox-1570832358158-1-1). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route2)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@1aba8978]]]}], Channel[sendTo(mock://output4)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route2            ] [route2            ] [direct://input                                                                ] [        69]
[route2            ] [log18             ] [log                                                                           ] [         4]
[route2            ] [unmarshal3        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@2662e3ff]               ] [         5]
[route2            ] [log19             ] [log                                                                           ] [         7]
[route2            ] [process13         ] [Processor@0x487ee2a                                                           ] [        47]
[route2            ] [log17             ] [log                                                                           ] [         2]
[route2            ] [choice10          ] [when[{header{header(env)} != mock}]choice[]                                   ] [        27]
[route2            ] [to7               ] [{{kafkaErrorRoute}}                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:76)
	at org.apache.camel.impl.InterceptSendToEndpointProcessor.process(InterceptSendToEndpointProcessor.java:112)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error(KafkaRouteMockTest.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
12-10-2019 11:19:29.964 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 11:19:29.964 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:19:29.974 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 11:19:29.979 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: direct://input
12-10-2019 11:19:29.985 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 11:19:29.988 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:19:30.001 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 1.090 seconds
12-10-2019 11:19:30.001 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 0.037 seconds
12-10-2019 11:19:30.034 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:19:30.071 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:19:30.071 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest_error(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 11:19:30.071 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.255 seconds (255 millis)
12-10-2019 11:19:30.071 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:19:30.071 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 11:19:42.781 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest], using SpringBootContextLoader
12-10-2019 11:19:42.827 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 11:19:42.833 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:19:43.440 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:19:43.787 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:19:43.846 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@50468873, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@146587a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5f0e9815, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@76884e4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@126945f9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a898881, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16c63f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@35229f85, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d3c5255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b1712f3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6986bbaf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4879dfad]
12-10-2019 11:19:43.939 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:19:46.806 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 30534 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:19:46.824 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 11:19:51.839 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:19:52.022 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:19:52.023 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.026 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.026 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.033 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.033 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:19:52.034 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.034 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.034 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:19:52.203 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:19:52.351 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$32057532] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:19:52.375 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fdbaf13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:19:52.603 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:19:52.620 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:19:52.630 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:19:52.650 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:19:52.651 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:19:52.652 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:19:52.654 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:19:52.656 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:19:52.656 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:19:52.673 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:19:52.675 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:19:54.889 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:19:55.668 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:19:57.889 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:19:58.220 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:19:58.229 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:19:58.230 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:19:58.281 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:19:58.281 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:19:58.290 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:19:58.347 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 14.098 seconds (JVM running for 19.291)
12-10-2019 11:19:58.362 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:19:58.364 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 11:19:58.371 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 11:19:58.509 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 11:19:58.520 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:19:58.520 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:19:58.530 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 11:19:58.535 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:19:58.915 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 11:19:59.059 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 11:19:59.190 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 11:19:59.206 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 11:19:59.312 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:19:59.600 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 11:19:59.609 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 11:19:59.611 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 11:19:59.612 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:19:59.612 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.083 seconds
12-10-2019 11:20:00.429 [main] INFO  route1.log - Read message from Kafka: {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
12-10-2019 11:20:00.482 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 11:20:00.485 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 11:20:00.487 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
12-10-2019 11:20:00.490 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 11:20:00.492 [main] INFO  .log - Exchange[ExchangePattern: InOut, BodyType: String, Body: insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)]
12-10-2019 11:20:00.495 [main] INFO  route1.log - Read item from DB is insert into items (sku, item_description, price) values ('100', 'SamsungTV', 500.00)
12-10-2019 11:20:00.509 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 11:20:00.511 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:20:00.524 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 11:20:00.528 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 11:20:00.529 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 11:20:00.529 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:20:00.557 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 2.027 seconds
12-10-2019 11:20:00.557 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.048 seconds
12-10-2019 11:20:00.571 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:20:00.577 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:20:00.581 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 11:20:00.582 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.964 seconds (964 millis)
12-10-2019 11:20:00.582 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:20:00.582 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest
12-10-2019 11:20:00.591 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest
12-10-2019 11:20:00.743 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on amy-VirtualBox with PID 30534 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:20:00.746 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 11:20:01.674 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:20:01.700 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:20:01.701 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.703 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.704 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.704 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.704 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:20:01.704 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.706 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.706 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:01.730 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:20:01.798 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$32057532] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:20:01.806 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fdbaf13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:20:01.862 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:20:01.866 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:20:01.867 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:20:01.871 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:20:01.872 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:20:01.872 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:20:01.873 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:20:01.875 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:20:01.875 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:20:01.877 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:20:01.879 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:20:02.658 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:20:02.949 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:20:04.349 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:20:04.447 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:20:04.448 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:20:04.449 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:20:04.468 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:20:04.469 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:20:04.469 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:20:04.485 [main] INFO  c.l.l.route.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 3.891 seconds (JVM running for 25.43)
12-10-2019 11:20:04.490 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:20:04.493 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 11:20:04.494 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 11:20:04.547 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 11:20:04.561 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:20:04.564 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:20:04.564 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 11:20:04.565 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:20:04.727 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 11:20:04.792 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 11:20:04.848 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 11:20:04.889 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 11:20:04.965 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:20:05.112 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 11:20:05.116 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: direct://input
12-10-2019 11:20:05.117 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 11:20:05.119 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:20:05.119 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.555 seconds
12-10-2019 11:20:05.125 [main] INFO  route2.log - Read message from Kafka: {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
12-10-2019 11:20:05.129 [main] INFO  route2.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 11:20:05.130 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 11:20:05.137 [main] ERROR route2.log - RuntimeException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
12-10-2019 11:20:05.159 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832395446-1-2 on ExchangeId: ID-amy-VirtualBox-1570832395446-1-1). Exhausted after delivery attempt: 1 caught: com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route2)[RuntimeException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.learncamelspringboot.alert.MailProcessor@341141ab]]]}], Channel[sendTo(mock://output4)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route2            ] [route2            ] [direct://input                                                                ] [        25]
[route2            ] [log18             ] [log                                                                           ] [         1]
[route2            ] [unmarshal3        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@1773faf8]               ] [         3]
[route2            ] [log19             ] [log                                                                           ] [         1]
[route2            ] [process13         ] [Processor@0x3ef4a8fb                                                          ] [        19]
[route2            ] [log17             ] [log                                                                           ] [         1]
[route2            ] [choice10          ] [when[{header{header(env)} != mock}]choice[]                                   ] [        11]
[route2            ] [to7               ] [{{kafkaErrorRoute}}                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for ABC TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:76)
	at org.apache.camel.impl.InterceptSendToEndpointProcessor.process(InterceptSendToEndpointProcessor.java:112)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error(KafkaRouteMockTest.java:50)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
12-10-2019 11:20:05.168 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 11:20:05.168 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:20:05.178 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 11:20:05.180 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: direct://input
12-10-2019 11:20:05.180 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 11:20:05.182 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:20:05.199 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 0.635 seconds
12-10-2019 11:20:05.199 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 0.031 seconds
12-10-2019 11:20:05.216 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:20:05.226 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:20:05.232 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Testing done: unmarshalTest_error(com.learncamel.learncamelspringboot.route.KafkaRouteMockTest)
12-10-2019 11:20:05.232 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - Took: 0.107 seconds (107 millis)
12-10-2019 11:20:05.233 [main] INFO  c.l.l.route.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:20:05.233 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.KafkaRouteMockTest.unmarshalTest_error
12-10-2019 11:20:30.348 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest], using SpringBootContextLoader
12-10-2019 11:20:30.383 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 11:20:30.391 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:20:30.978 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:20:31.308 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:20:31.382 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64b73e7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@530712d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2df6226d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@12ed9db6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ff4357f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49cb9cb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55322aab, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b4c1d96, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@45fd9a4d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@50468873, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@146587a2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f0e9815]
12-10-2019 11:20:31.499 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:20:33.854 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 30781 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:20:33.863 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:20:38.971 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:20:39.165 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:20:39.167 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.175 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.175 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.187 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.188 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:20:39.191 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.192 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.197 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:39.320 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:20:39.631 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:20:39.656 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:20:39.955 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:20:39.962 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:20:39.966 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:20:39.984 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:20:39.985 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:20:39.986 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:20:39.990 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:20:39.994 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:20:39.995 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:20:40.018 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:20:40.021 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:20:42.428 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:20:43.216 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:20:45.617 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:20:46.028 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:20:46.046 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:20:46.049 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:20:46.132 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:20:46.137 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:20:46.137 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:20:46.208 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 14.435 seconds (JVM running for 19.417)
12-10-2019 11:20:46.234 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:20:46.377 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 11:20:46.379 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:20:46.380 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:20:46.382 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 11:20:46.382 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:20:47.284 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:20:47.724 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:20:47.970 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:20:47.971 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:20:48.001 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:20:48.005 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:20:48.038 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:20:48.121 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:20:48.121 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:20:48.126 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:20:48.130 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:20:48.139 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:20:48.143 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.762 seconds
12-10-2019 11:20:48.131 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:20:49.073 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:20:49.110 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:20:49.199 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:20:49.200 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 11:20:49.207 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:20:49.243 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:20:49.371 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 31
12-10-2019 11:20:49.421 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:20:49.738 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:20:49.741 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:20:49.743 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:20:49.744 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:20:49.744 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:20:49.744 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:20:49.767 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832442999-0-4 on ExchangeId: ID-amy-VirtualBox-1570832442999-0-3). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-0-3]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       589]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       559]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-0-3]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:20:49.768 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832442999-0-3]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-0-3]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-0-3]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:20:50.678 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 11:20:50.850 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is [Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00), Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)]
12-10-2019 11:20:50.867 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:20:50.872 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:20:50.873 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:20:50.876 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'Samsung TV', 500.00)
12-10-2019 11:20:50.878 [Camel (camel-1) thread #3 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 11:20:51.541 [Camel (camel-1) thread #3 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 11:20:51.671 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:20:51.671 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:20:51.671 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:20:51.672 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('101', 'LG TV', 500.00)
12-10-2019 11:20:53.184 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 11:20:53.187 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:20:53.194 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:20:54.517 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:20:54.522 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:20:54.542 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:20:54.547 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:20:54.548 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:20:54.549 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 1 seconds
12-10-2019 11:20:54.564 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 8.184 seconds
12-10-2019 11:20:54.565 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 1.381 seconds
12-10-2019 11:20:54.600 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:20:54.608 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 11:20:54.658 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 11:20:54.659 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:20:54.660 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:20:54.660 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 6.516 seconds (6516 millis)
12-10-2019 11:20:54.660 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:20:54.660 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 11:20:54.661 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:20:54.857 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 30781 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:20:54.865 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:20:55.914 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:20:55.947 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:20:55.950 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.950 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.951 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.951 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.951 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:20:55.952 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.953 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.955 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:20:55.981 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:20:56.037 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:20:56.053 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:20:56.150 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:20:56.170 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:20:56.174 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:20:56.181 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:20:56.182 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:20:56.184 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:20:56.185 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:20:56.186 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:20:56.192 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:20:56.193 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:20:56.193 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:20:57.158 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:20:57.505 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:20:58.894 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:20:59.012 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:20:59.015 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:20:59.015 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:20:59.033 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:20:59.035 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:20:59.035 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:20:59.056 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.394 seconds (JVM running for 32.265)
12-10-2019 11:20:59.062 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:20:59.080 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 11:20:59.080 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:20:59.080 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:20:59.081 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 11:20:59.083 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:20:59.487 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:20:59.612 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:20:59.645 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:20:59.646 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:20:59.648 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:20:59.651 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:20:59.654 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:20:59.672 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:20:59.672 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:20:59.676 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:20:59.678 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:20:59.678 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:20:59.703 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:20:59.706 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.626 seconds
12-10-2019 11:20:59.689 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:20:59.711 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:20:59.725 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-2, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:20:59.725 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-2, groupId=itemDev] (Re-)joining group
12-10-2019 11:20:59.751 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=itemDev] Successfully joined group with generation 33
12-10-2019 11:20:59.753 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-2, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:21:00.702 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:21:00.703 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:21:00.708 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
DELETE,100,Samsung TV,600
12-10-2019 11:21:00.717 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:00.720 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:00.720 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:00.725 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:00.725 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is delete from items where sku = '100'
12-10-2019 11:21:00.725 [Camel (camel-2) thread #7 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Starting...
12-10-2019 11:21:00.731 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:00.731 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:00.731 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:00.731 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:00.736 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:00.736 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:00.740 [Camel (camel-2) thread #6 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832442999-1-8 on ExchangeId: ID-amy-VirtualBox-1570832442999-1-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        48]
[healthRoute       ] [choice7           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich3       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        45]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:21:00.744 [Camel (camel-2) thread #6 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832442999-1-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:21:00.784 [Camel (camel-2) thread #7 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Start completed.
12-10-2019 11:21:02.765 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 11:21:02.775 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:21:02.777 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:21:04.757 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:21:04.764 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:21:04.778 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@10b0dd3a[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 11:21:04.795 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:21:04.797 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:21:04.798 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:21:04.798 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 11:21:04.815 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 5.733 seconds
12-10-2019 11:21:04.821 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 2.050 seconds
12-10-2019 11:21:04.833 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:21:04.840 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown initiated...
12-10-2019 11:21:04.875 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown completed.
12-10-2019 11:21:04.876 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:21:04.876 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_delete(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:21:04.876 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.170 seconds (5170 millis)
12-10-2019 11:21:04.876 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:21:04.876 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 11:21:04.877 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:21:04.983 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 30781 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:21:04.986 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:21:05.782 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:21:05.807 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:21:05.808 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.808 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.808 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.808 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.809 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:21:05.809 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.809 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.819 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:05.833 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:21:05.880 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:21:05.891 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:21:05.946 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:21:05.947 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:21:05.957 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:21:05.960 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:21:05.961 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:21:05.964 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:21:05.967 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:21:05.970 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:21:05.970 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:21:05.973 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:21:05.974 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:21:06.764 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:21:07.029 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:21:08.435 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:21:08.544 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:21:08.547 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:21:08.548 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:21:08.570 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:21:08.571 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:21:08.571 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:21:08.587 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.709 seconds (JVM running for 41.796)
12-10-2019 11:21:08.592 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:21:08.614 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 11:21:08.614 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:21:08.615 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:21:08.626 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) is starting
12-10-2019 11:21:08.628 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:21:08.949 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:21:09.104 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:21:09.135 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:21:09.137 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:21:09.148 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:21:09.151 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:21:09.169 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:21:09.192 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:21:09.192 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:21:09.206 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route3 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:21:09.208 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:21:09.208 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:21:09.225 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:21:09.225 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) started in 0.599 seconds
12-10-2019 11:21:09.246 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:21:09.253 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:21:09.263 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-3, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:21:09.264 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-3, groupId=itemDev] (Re-)joining group
12-10-2019 11:21:09.287 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Successfully joined group with generation 35
12-10-2019 11:21:09.288 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-3, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:21:10.224 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:21:10.224 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:21:10.229 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
UPDATE,100,Samsung TV,600
12-10-2019 11:21:10.240 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:10.253 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:10.259 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:10.262 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:21:10.262 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is update items set price = 600.00 where sku = '100'
12-10-2019 11:21:10.263 [Camel (camel-3) thread #11 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Starting...
12-10-2019 11:21:10.278 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:10.278 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:10.285 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:10.285 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:10.286 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:10.286 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:10.293 [Camel (camel-3) thread #10 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832442999-2-8 on ExchangeId: ID-amy-VirtualBox-1570832442999-2-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        69]
[healthRoute       ] [choice13          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich5       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        67]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:21:10.297 [Camel (camel-3) thread #10 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832442999-2-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:21:10.323 [Camel (camel-3) thread #11 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Start completed.
12-10-2019 11:21:12.287 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutting down
12-10-2019 11:21:12.287 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:21:12.294 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:21:14.292 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:21:14.295 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@5eabcf77[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 11:21:14.297 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:21:14.325 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route3 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:21:14.329 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:21:14.339 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:21:14.339 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 11:21:14.349 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) uptime 5.722 seconds
12-10-2019 11:21:14.349 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutdown in 2.062 seconds
12-10-2019 11:21:14.360 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:21:14.361 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown initiated...
12-10-2019 11:21:14.388 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown completed.
12-10-2019 11:21:14.388 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:21:14.389 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_update(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:21:14.389 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.163 seconds (5163 millis)
12-10-2019 11:21:14.389 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:21:14.389 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 11:21:14.389 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:21:14.531 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 30781 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:21:14.534 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:21:15.158 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:21:15.177 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:21:15.177 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.177 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.177 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.178 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.178 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:21:15.178 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.178 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.178 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:21:15.192 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:21:15.221 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:21:15.234 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:21:15.280 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:21:15.281 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:21:15.281 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:21:15.286 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:21:15.286 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:21:15.287 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:21:15.287 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:21:15.288 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:21:15.289 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:21:15.290 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:21:15.291 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:21:15.911 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:21:16.129 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:21:17.370 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:21:17.450 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:21:17.451 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:21:17.451 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:21:17.471 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:21:17.471 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:21:17.472 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:21:17.486 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.08 seconds (JVM running for 50.695)
12-10-2019 11:21:17.492 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:21:17.508 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 11:21:17.508 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:21:17.508 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:21:17.521 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) is starting
12-10-2019 11:21:17.522 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:21:17.790 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:21:17.961 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:21:17.979 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:21:17.979 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:21:17.984 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:21:17.984 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:21:17.988 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:21:17.999 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:21:18.001 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:21:18.003 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route4 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:21:18.005 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:21:18.014 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:21:18.018 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) started in 0.497 seconds
12-10-2019 11:21:18.006 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:21:18.031 [main] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - sending now
12-10-2019 11:21:18.032 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:21:18.035 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:21:18.044 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-4, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:21:18.045 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-4, groupId=itemDev] (Re-)joining group
12-10-2019 11:21:18.056 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Successfully joined group with generation 37
12-10-2019 11:21:18.057 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-4, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:21:19.016 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:21:19.018 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:21:19.023 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,,Samsung TV,500
12-10-2019 11:21:19.051 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:21:19.054 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:21:19.054 [Camel (camel-4) thread #15 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:21:19.063 [Camel (camel-4) thread #15 - timer://hello] ERROR mainRoute.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:21:19.066 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - DataException: non-mock env flow and the body is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:21:19.068 [Camel (camel-4) thread #15 - timer://hello] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 11:21:19.105 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:19.106 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:19.108 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:19.108 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:19.109 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:21:19.109 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:21:19.119 [Camel (camel-4) thread #14 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832442999-3-8 on ExchangeId: ID-amy-VirtualBox-1570832442999-3-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       100]
[healthRoute       ] [choice19          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich7       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        93]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:21:19.120 [Camel (camel-4) thread #14 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832442999-3-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832442999-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:21:25.064 [Camel (camel-4) thread #15 - timer://hello] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@1664a0f2 for file: GenericFile[fileTest.txt]
12-10-2019 11:21:25.065 [Camel (camel-4) thread #15 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832442999-3-3]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for Samsung TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for Samsung TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:715)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:638)
	at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:248)
	at org.apache.camel.processor.Splitter.process(Splitter.java:129)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 11:21:28.057 [main] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - starting verifications
12-10-2019 11:21:28.076 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutting down
12-10-2019 11:21:28.085 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:21:28.088 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:21:30.089 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@66008321[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 11:21:32.089 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 4.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@66008321[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 11:21:33.065 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:21:33.069 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:21:33.093 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route4 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:21:33.099 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:21:33.099 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:21:33.099 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 5 seconds
12-10-2019 11:21:33.108 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) uptime 15.587 seconds
12-10-2019 11:21:33.108 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutdown in 5.032 seconds
12-10-2019 11:21:33.120 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:21:33.129 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:21:33.129 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add_throwsException(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:21:33.129 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 15.111 seconds (15111 millis)
12-10-2019 11:21:33.129 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:21:33.129 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 11:21:51.641 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest], using SpringBootContextLoader
12-10-2019 11:21:51.697 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 11:21:51.726 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:21:52.579 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:21:53.233 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:21:53.935 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@64b73e7a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@530712d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2df6226d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@12ed9db6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ff4357f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49cb9cb5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55322aab, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b4c1d96, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@45fd9a4d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@50468873, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@146587a2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5f0e9815]
12-10-2019 11:21:54.043 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:21:56.167 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 31133 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:21:56.170 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:22:00.592 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:22:00.779 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:22:00.781 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.784 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.785 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.785 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.785 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:22:00.786 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.791 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.791 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:00.953 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:22:01.102 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:01.128 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:01.342 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:22:01.350 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:22:01.356 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:22:01.374 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:22:01.377 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:22:01.378 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:22:01.378 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:22:01.379 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:22:01.381 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:22:01.397 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:22:01.400 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:22:03.593 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:04.463 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:22:07.420 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:22:07.797 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:22:07.810 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:22:07.811 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:22:07.868 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:22:07.870 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:22:07.871 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:22:07.930 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 13.644 seconds (JVM running for 20.4)
12-10-2019 11:22:07.951 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:22:08.030 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 11:22:08.035 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:22:08.044 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:22:08.046 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 11:22:08.050 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:22:08.997 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:22:09.428 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:22:09.836 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:09.839 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:09.863 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:09.864 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:22:09.894 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:22:10.023 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:10.023 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:10.030 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:10.032 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:22:10.036 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:22:10.065 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:22:10.071 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 2.024 seconds
12-10-2019 11:22:10.514 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:22:10.521 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:22:10.531 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-1, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:22:10.534 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-1, groupId=itemDev] (Re-)joining group
12-10-2019 11:22:10.576 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-1, groupId=itemDev] Successfully joined group with generation 39
12-10-2019 11:22:10.581 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-1, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:22:11.077 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:22:11.103 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:22:11.392 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:11.397 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:11.399 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:11.399 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:11.400 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:11.400 [Camel (camel-1) thread #2 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:11.410 [Camel (camel-1) thread #2 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832524210-0-5 on ExchangeId: ID-amy-VirtualBox-1570832524210-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [       334]
[healthRoute       ] [choice1           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [       295]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:11.413 [Camel (camel-1) thread #2 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832524210-0-1]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:11.735 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 11:22:11.806 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - The unmarshalled object is [Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00), Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)]
12-10-2019 11:22:11.820 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:11.821 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:11.821 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:11.825 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'Samsung TV', 500.00)
12-10-2019 11:22:11.826 [Camel (camel-1) thread #3 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
12-10-2019 11:22:12.454 [Camel (camel-1) thread #3 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
12-10-2019 11:22:12.588 [Camel (camel-1) thread #3 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:22:12.589 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:22:12.589 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:22:12.589 [Camel (camel-1) thread #3 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('101', 'LG TV', 500.00)
12-10-2019 11:22:14.349 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 11:22:14.350 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:22:14.357 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:22:15.604 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:15.608 [Camel (camel-1) thread #1 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:15.631 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:15.642 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:22:15.644 [Camel (camel-1) thread #4 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:15.644 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 1 seconds
12-10-2019 11:22:15.660 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 7.616 seconds
12-10-2019 11:22:15.661 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 1.312 seconds
12-10-2019 11:22:15.686 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:15.694 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
12-10-2019 11:22:15.740 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
12-10-2019 11:22:15.742 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:15.743 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:22:15.744 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.671 seconds (5671 millis)
12-10-2019 11:22:15.744 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:15.744 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add
12-10-2019 11:22:15.745 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:22:15.881 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 31133 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:22:15.889 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:22:16.854 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:22:16.887 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:22:16.888 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.890 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.891 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.891 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.892 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:22:16.892 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.893 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.894 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:16.914 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:22:16.946 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:16.962 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:17.027 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:22:17.027 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:22:17.032 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:22:17.035 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:22:17.035 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:22:17.039 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:22:17.039 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:22:17.040 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:22:17.041 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:22:17.042 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:22:17.042 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:22:17.856 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:18.145 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:22:19.474 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:22:19.570 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:22:19.571 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:22:19.572 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:22:19.587 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:22:19.588 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:22:19.592 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:22:19.628 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.869 seconds (JVM running for 32.098)
12-10-2019 11:22:19.639 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:22:19.664 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 11:22:19.665 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:22:19.665 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:22:19.666 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) is starting
12-10-2019 11:22:19.666 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:22:20.052 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:22:20.179 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:22:20.207 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:20.207 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:20.211 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:20.212 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:22:20.214 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:22:20.228 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:20.231 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:20.235 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:20.237 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:22:20.245 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:22:20.248 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-2) started in 0.582 seconds
12-10-2019 11:22:20.238 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:22:20.263 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:22:20.264 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:22:20.285 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-2, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:22:20.285 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-2, groupId=itemDev] (Re-)joining group
12-10-2019 11:22:20.348 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-2, groupId=itemDev] Successfully joined group with generation 41
12-10-2019 11:22:20.348 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-2, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:22:21.246 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:22:21.250 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:22:21.260 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
DELETE,100,Samsung TV,600
12-10-2019 11:22:21.272 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:21.274 [Camel (camel-2) thread #7 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:21.274 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:21.278 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=DELETE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:21.279 [Camel (camel-2) thread #7 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is delete from items where sku = '100'
12-10-2019 11:22:21.279 [Camel (camel-2) thread #7 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Starting...
12-10-2019 11:22:21.292 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:21.292 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:21.292 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:21.292 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:21.293 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:21.293 [Camel (camel-2) thread #6 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:21.308 [Camel (camel-2) thread #6 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832524210-1-8 on ExchangeId: ID-amy-VirtualBox-1570832524210-1-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        64]
[healthRoute       ] [choice7           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich3       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        51]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:21.313 [Camel (camel-2) thread #6 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832524210-1-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-1-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:21.343 [Camel (camel-2) thread #7 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Start completed.
12-10-2019 11:22:23.344 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutting down
12-10-2019 11:22:23.347 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:22:23.355 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:22:25.356 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@427128a6[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 11:22:25.357 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:25.362 [Camel (camel-2) thread #5 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:25.387 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:25.389 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:22:25.390 [Camel (camel-2) thread #8 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:25.390 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 11:22:25.394 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) uptime 5.728 seconds
12-10-2019 11:22:25.394 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-2) is shutdown in 2.050 seconds
12-10-2019 11:22:25.422 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:25.425 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown initiated...
12-10-2019 11:22:25.463 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown completed.
12-10-2019 11:22:25.464 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:25.464 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_delete(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:22:25.468 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.216 seconds (5216 millis)
12-10-2019 11:22:25.468 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:25.468 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_delete
12-10-2019 11:22:25.468 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:22:25.591 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 31133 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:22:25.595 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:22:26.406 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:22:26.433 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:22:26.434 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.435 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.435 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.435 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.435 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:22:26.435 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.436 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.436 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:26.457 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:22:26.504 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:26.518 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:26.605 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:22:26.606 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:22:26.607 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:22:26.607 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:22:26.608 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:22:26.611 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:22:26.615 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:22:26.616 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:22:26.617 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:22:26.617 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:22:26.619 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:22:27.319 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:27.596 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:22:29.237 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:22:29.343 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:22:29.347 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:22:29.347 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:22:29.360 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:22:29.361 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:22:29.361 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:22:29.377 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.888 seconds (JVM running for 41.847)
12-10-2019 11:22:29.381 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:22:29.405 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 11:22:29.406 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:22:29.406 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:22:29.418 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) is starting
12-10-2019 11:22:29.420 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:22:29.858 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:22:30.024 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:22:30.063 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:30.064 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:30.086 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:30.087 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:22:30.088 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:22:30.166 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:30.167 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:30.170 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route3 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:30.174 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:22:30.183 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:22:30.183 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-3) started in 0.777 seconds
12-10-2019 11:22:30.184 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:22:30.199 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:22:30.199 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:22:30.211 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-3, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:22:30.211 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-3, groupId=itemDev] (Re-)joining group
12-10-2019 11:22:30.228 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-3, groupId=itemDev] Successfully joined group with generation 43
12-10-2019 11:22:30.233 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-3, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:22:31.183 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:22:31.183 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:22:31.193 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
UPDATE,100,Samsung TV,600
12-10-2019 11:22:31.203 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:31.210 [Camel (camel-3) thread #11 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:31.213 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:31.213 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=UPDATE, sku=100, itemDescription=Samsung TV, price=600.00)
12-10-2019 11:22:31.214 [Camel (camel-3) thread #11 - timer://hello] INFO  c.l.l.process.BuildSqlProcessor.process - Query is update items set price = 600.00 where sku = '100'
12-10-2019 11:22:31.214 [Camel (camel-3) thread #11 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Starting...
12-10-2019 11:22:31.233 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:31.233 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:31.238 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:31.238 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:31.238 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:31.243 [Camel (camel-3) thread #10 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:31.250 [Camel (camel-3) thread #10 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832524210-2-8 on ExchangeId: ID-amy-VirtualBox-1570832524210-2-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        66]
[healthRoute       ] [choice13          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich5       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        64]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:31.253 [Camel (camel-3) thread #10 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832524210-2-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-2-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:31.289 [Camel (camel-3) thread #11 - timer://hello] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Start completed.
12-10-2019 11:22:33.239 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutting down
12-10-2019 11:22:33.239 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:22:33.240 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:22:35.237 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:35.240 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.i.DefaultExecutorServiceManager.awaitTermination - Waited 2.000 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@5c39da9e[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0][KafkaConsumer[inputItemTopic]] to terminate...
12-10-2019 11:22:35.244 [Camel (camel-3) thread #9 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:35.261 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route3 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:35.267 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:22:35.267 [Camel (camel-3) thread #12 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:35.267 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 2 seconds
12-10-2019 11:22:35.275 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) uptime 5.869 seconds
12-10-2019 11:22:35.275 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-3) is shutdown in 2.036 seconds
12-10-2019 11:22:35.287 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:35.289 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown initiated...
12-10-2019 11:22:35.319 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown completed.
12-10-2019 11:22:35.320 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:35.320 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_update(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:22:35.320 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 5.137 seconds (5137 millis)
12-10-2019 11:22:35.320 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:35.321 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_update
12-10-2019 11:22:35.321 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest
12-10-2019 11:22:35.398 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on amy-VirtualBox with PID 31133 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:22:35.398 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
12-10-2019 11:22:36.152 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:22:36.180 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:22:36.181 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.181 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.181 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.184 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.186 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:22:36.186 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #1) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.187 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.187 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:22:36.201 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:22:36.230 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3af3c541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:36.243 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18c9ff22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:22:36.309 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:22:36.312 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:22:36.312 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:22:36.314 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:22:36.314 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:22:36.315 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:22:36.315 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:22:36.318 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:22:36.318 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:22:36.320 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:22:36.320 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:22:36.911 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:37.142 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:22:38.332 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:22:38.411 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:22:38.412 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:22:38.413 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:22:38.428 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:22:38.428 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:22:38.430 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:22:38.445 [main] INFO  c.l.l.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.116 seconds (JVM running for 50.914)
12-10-2019 11:22:38.450 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:22:38.482 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 11:22:38.483 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:22:38.483 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:22:38.483 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) is starting
12-10-2019 11:22:38.490 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:22:38.717 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:22:38.816 [main] INFO  o.a.k.c.producer.ProducerConfig.logAll - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.id = 
	compression.type = none
	connections.max.idle.ms = 540000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 305000
	retries = 0
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

12-10-2019 11:22:38.847 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:38.848 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:38.855 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:38.856 [main] INFO  o.a.c.component.kafka.KafkaConsumer.doStart - Starting Kafka consumer on topic: inputItemTopic with breakOnFirstError: false
12-10-2019 11:22:38.859 [main] INFO  o.a.k.c.consumer.ConsumerConfig.logAll - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.id = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = itemDev
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 40000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

12-10-2019 11:22:38.871 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka version : 2.0.1
12-10-2019 11:22:38.871 [main] INFO  o.a.kafka.common.utils.AppInfoParser.<init> - Kafka commitId : fa14705e51bd2ce5
12-10-2019 11:22:38.875 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route4 started and consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:38.876 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://hello?period=10s
12-10-2019 11:22:38.881 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:22:38.881 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-4) started in 0.398 seconds
12-10-2019 11:22:38.876 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Subscribing inputItemTopic-Thread 0 to topic inputItemTopic
12-10-2019 11:22:38.888 [main] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - sending now
12-10-2019 11:22:38.896 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  org.apache.kafka.clients.Metadata.update - Cluster ID: -x5V6SkZSu2rd_uRTAjRHg
12-10-2019 11:22:38.900 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
12-10-2019 11:22:38.903 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinPrepare - [Consumer clientId=consumer-4, groupId=itemDev] Revoking previously assigned partitions []
12-10-2019 11:22:38.904 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.sendJoinGroupRequest - [Consumer clientId=consumer-4, groupId=itemDev] (Re-)joining group
12-10-2019 11:22:38.917 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.AbstractCoordinator.onSuccess - [Consumer clientId=consumer-4, groupId=itemDev] Successfully joined group with generation 45
12-10-2019 11:22:38.918 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.k.c.c.i.ConsumerCoordinator.onJoinComplete - [Consumer clientId=consumer-4, groupId=itemDev] Setting newly assigned partitions [inputItemTopic-0]
12-10-2019 11:22:39.882 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - Timer Invoked and the body is  DEV Environment
12-10-2019 11:22:39.882 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - PollEnrich: non-mock env flow and the body is 
12-10-2019 11:22:39.891 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,,Samsung TV,500
12-10-2019 11:22:39.903 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - The unmarshalled object is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:39.908 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:39.909 [Camel (camel-4) thread #15 - timer://hello] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:39.912 [Camel (camel-4) thread #15 - timer://hello] ERROR mainRoute.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:39.915 [Camel (camel-4) thread #15 - timer://hello] INFO  mainRoute.log - DataException: non-mock env flow and the body is Item(transactionType=ADD, sku=, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:22:39.921 [Camel (camel-4) thread #15 - timer://hello] INFO  c.l.l.alert.MailProcessor.process - Exception Caught in mail processor: 
12-10-2019 11:22:39.921 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:39.921 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:39.921 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:39.921 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:39.923 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - I/O exception (java.net.ConnectException) caught when processing request: Connection refused (Connection refused)
12-10-2019 11:22:39.924 [Camel (camel-4) thread #14 - timer://healthRoute] INFO  o.a.c.httpclient.HttpMethodDirector.executeWithRetry - Retrying request
12-10-2019 11:22:39.928 [Camel (camel-4) thread #14 - timer://healthRoute] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-amy-VirtualBox-1570832524210-3-8 on ExchangeId: ID-amy-VirtualBox-1570832524210-3-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [timer://healthRoute?period=10s                                                ] [        48]
[healthRoute       ] [choice19          ] [when[{header{header(env)} != mock}]choice[]                                   ] [         0]
[healthRoute       ] [pollEnrich7       ] [pollEnrich[constant{http://localhost:8080/actuator/health}]                   ] [        46]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:39.936 [Camel (camel-4) thread #14 - timer://healthRoute] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832524210-3-2]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-amy-VirtualBox-1570832524210-3-2]. Caused by: [org.apache.camel.RuntimeCamelException - java.net.ConnectException: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:250)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:117)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.camel.RuntimeCamelException: java.net.ConnectException: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:97)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:48)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:235)
	... 12 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/java.net.Socket.<init>(Socket.java:436)
	at java.base/java.net.Socket.<init>(Socket.java:288)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:80)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:122)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:70)
	... 14 common frames omitted
12-10-2019 11:22:45.267 [Camel (camel-4) thread #15 - timer://hello] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6d9e289a for file: GenericFile[fileTest.txt]
12-10-2019 11:22:45.269 [Camel (camel-4) thread #15 - timer://hello] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-amy-VirtualBox-1570832524210-3-3]. Caused by: [com.learncamel.learncamelspringboot.exception.DataException - Sku is null for Samsung TV]
com.learncamel.learncamelspringboot.exception.DataException: Sku is null for Samsung TV
	at com.learncamel.learncamelspringboot.process.ValidateDataProcessor.process(ValidateDataProcessor.java:19)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:715)
	at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:638)
	at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:248)
	at org.apache.camel.processor.Splitter.process(Splitter.java:129)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:197)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:79)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
12-10-2019 11:22:48.909 [main] INFO  c.l.l.route.SimpleCamelRouteTest.moveFile_add_throwsException - starting verifications
12-10-2019 11:22:48.923 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutting down
12-10-2019 11:22:48.924 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:22:48.927 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.component.kafka.KafkaConsumer.doStop - Stopping Kafka consumer on topic: inputItemTopic
12-10-2019 11:22:48.927 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Auto commitSync on stop inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:48.929 [Camel (camel-4) thread #13 - KafkaConsumer[inputItemTopic]] INFO  o.a.c.component.kafka.KafkaConsumer.doRun - Unsubscribing inputItemTopic-Thread 0 from topic inputItemTopic
12-10-2019 11:22:48.947 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route4 shutdown complete, was consuming from: kafka://inputItemTopic?autoOffsetReset=earliest&brokers=localhost%3A9092&consumersCount=1&groupId=itemDev
12-10-2019 11:22:48.950 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://hello?period=10s
12-10-2019 11:22:48.950 [Camel (camel-4) thread #16 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://healthRoute?period=10s
12-10-2019 11:22:48.951 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:22:48.954 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) uptime 10.471 seconds
12-10-2019 11:22:48.954 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-4) is shutdown in 0.031 seconds
12-10-2019 11:22:48.956 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:22:48.960 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:48.960 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Testing done: moveFile_add_throwsException(com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest)
12-10-2019 11:22:48.972 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - Took: 10.079 seconds (10079 millis)
12-10-2019 11:22:48.980 [main] INFO  c.l.l.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
12-10-2019 11:22:48.980 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteTest.moveFile_add_throwsException
12-10-2019 11:23:33.822 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.HealthRouteMockTest], using SpringBootContextLoader
12-10-2019 11:23:33.855 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.HealthRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 11:23:33.863 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.HealthRouteMockTest]: HealthRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:23:34.493 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.HealthRouteMockTest
12-10-2019 11:23:34.876 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:23:34.937 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12ed9db6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ff4357f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@49cb9cb5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55322aab, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2b4c1d96, org.springframework.test.context.transaction.TransactionalTestExecutionListener@45fd9a4d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@50468873, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@146587a2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5f0e9815, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76884e4b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@126945f9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a898881]
12-10-2019 11:23:35.024 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.HealthRouteMockTest
12-10-2019 11:23:37.838 [main] INFO  c.l.l.route.HealthRouteMockTest.logStarting - Starting HealthRouteMockTest on amy-VirtualBox with PID 31642 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:23:37.852 [main] INFO  c.l.l.route.HealthRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 11:23:42.670 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:23:42.860 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:23:42.864 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:42.869 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:42.869 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:42.871 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:42.887 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:23:42.887 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:42.888 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:42.888 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:23:43.053 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:23:43.316 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$f41715eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:23:43.368 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d1ed4fcc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:23:43.599 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:23:43.605 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:23:43.608 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:23:43.629 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:23:43.631 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:23:43.634 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:23:43.634 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:23:43.635 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:23:43.638 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:23:43.653 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:23:43.655 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:23:45.884 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:23:46.677 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:23:49.277 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:23:49.655 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:23:49.667 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:23:49.669 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:23:49.728 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:23:49.729 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:23:49.731 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:23:49.791 [main] INFO  c.l.l.route.HealthRouteMockTest.logStarted - Started HealthRouteMockTest in 14.447 seconds (JVM running for 19.605)
12-10-2019 11:23:49.823 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:23:49.824 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 11:23:49.831 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 11:23:49.991 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.HealthRouteMockTest.healthRouteTest
12-10-2019 11:23:49.992 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:23:49.993 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:23:50.003 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 11:23:50.009 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:23:50.388 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 11:23:50.507 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 11:23:50.652 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 11:23:50.682 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 11:23:50.802 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:23:51.084 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 11:23:51.086 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 11:23:51.088 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 11:23:51.088 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:23:51.089 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.093 seconds
12-10-2019 11:23:51.961 [main] INFO  c.l.l.process.HealthCheckProcessor.process - Exception message is: mail component in the route is down
12-10-2019 11:23:51.979 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 11:23:51.980 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:23:51.996 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 11:23:51.997 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 11:23:51.997 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 11:23:51.998 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:23:52.022 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 2.027 seconds
12-10-2019 11:23:52.025 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.045 seconds
12-10-2019 11:23:52.047 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:23:52.057 [main] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:23:52.058 [main] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - Testing done: healthRouteTest(com.learncamel.learncamelspringboot.route.HealthRouteMockTest)
12-10-2019 11:23:52.059 [main] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - Took: 0.968 seconds (968 millis)
12-10-2019 11:23:52.059 [main] INFO  c.l.l.route.HealthRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:23:52.059 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.HealthRouteMockTest.healthRouteTest
12-10-2019 11:24:24.023 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest], using SpringBootContextLoader
12-10-2019 11:24:24.042 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12-10-2019 11:24:24.046 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest]: SimpleCamelRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12-10-2019 11:24:24.637 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.learncamelspringboot.LearnCamelSpringBootApplication for test class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest
12-10-2019 11:24:24.949 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
12-10-2019 11:24:24.995 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@130dca52, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2654635, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@737a135b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@687ef2e0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15dcfae7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3da05287, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e636ea3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@115667d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@736caf7a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4ce7fffa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@497486b3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@63f8276e]
12-10-2019 11:24:25.068 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest
12-10-2019 11:24:27.407 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.logStarting - Starting SimpleCamelRouteMockTest on amy-VirtualBox with PID 31888 (started by amy in /home/amy/IdeaProjects/learncamel-spring-boot)
12-10-2019 11:24:27.420 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
12-10-2019 11:24:31.865 [main] INFO  c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory - Post-processing PropertySource instances
12-10-2019 11:24:32.043 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
12-10-2019 11:24:32.047 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.053 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource test [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.053 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.053 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.053 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
12-10-2019 11:24:32.054 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.057 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #3) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.057 [main] INFO  c.u.j.EncryptablePropertySourceConverter.makeEncryptable - Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
12-10-2019 11:24:32.231 [main] INFO  c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2 - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
12-10-2019 11:24:32.368 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$4fa36e89] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:24:32.400 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2d79a86a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12-10-2019 11:24:32.628 [main] INFO  c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2 - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
12-10-2019 11:24:32.640 [main] INFO  c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2 - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
12-10-2019 11:24:32.644 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.lambda$null$2 - String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
12-10-2019 11:24:32.664 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWithMD5AndDES
12-10-2019 11:24:32.664 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.keyObtentionIterations, using default value: 1000
12-10-2019 11:24:32.665 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.poolSize, using default value: 1
12-10-2019 11:24:32.668 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerName, using default value: null
12-10-2019 11:24:32.670 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.providerClassName, using default value: null
12-10-2019 11:24:32.670 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.saltGeneratorClassname, using default value: org.jasypt.salt.RandomSaltGenerator
12-10-2019 11:24:32.702 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.ivGeneratorClassname, using default value: org.jasypt.salt.NoOpIVGenerator
12-10-2019 11:24:32.709 [main] INFO  c.u.j.encryptor.DefaultLazyEncryptor.getProperty - Encryptor config not found for property jasypt.encryptor.stringOutputType, using default value: base64
12-10-2019 11:24:35.324 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
12-10-2019 11:24:36.094 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 195, classpath: 10)
12-10-2019 11:24:38.498 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
12-10-2019 11:24:38.833 [main] INFO  c.l.l.route.KafkaRoute.configure - Starting the Camel Route
12-10-2019 11:24:38.849 [main] INFO  c.l.l.route.KafkaRoute.configure - Ending the Camel Route
12-10-2019 11:24:38.850 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Starting the Camel Route
12-10-2019 11:24:38.898 [main] INFO  c.l.l.route.SimpleCamelRoute.configure - Ending the Camel Route
12-10-2019 11:24:38.901 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
12-10-2019 11:24:38.902 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
12-10-2019 11:24:38.961 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.logStarted - Started SimpleCamelRouteMockTest in 13.595 seconds (JVM running for 18.098)
12-10-2019 11:24:38.977 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
12-10-2019 11:24:38.977 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Enabling auto mocking of endpoints matching pattern [*] on CamelContext with name [camelContext].
12-10-2019 11:24:38.982 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://errorInRoute?level=ERROR&showProperties=true] with mock endpoint [mock:log:errorInRoute]
12-10-2019 11:24:39.143 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest.moveFile
12-10-2019 11:24:39.147 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
12-10-2019 11:24:39.148 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
12-10-2019 11:24:39.149 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) is starting
12-10-2019 11:24:39.154 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
12-10-2019 11:24:39.549 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://health] with mock endpoint [mock:direct:health]
12-10-2019 11:24:39.654 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://input] with mock endpoint [mock:direct:input]
12-10-2019 11:24:39.776 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [log://?level=INFO&showBody=true] with mock endpoint [mock:log:]
12-10-2019 11:24:39.805 [main] INFO  o.a.c.i.InterceptSendToMockEndpointStrategy.registerEndpoint - Adviced endpoint [direct://kafka] with mock endpoint [mock:direct:kafka]
12-10-2019 11:24:39.893 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
12-10-2019 11:24:40.201 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
12-10-2019 11:24:40.203 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
12-10-2019 11:24:40.218 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://kafka
12-10-2019 11:24:40.218 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 3 routes, of which 3 are started
12-10-2019 11:24:40.219 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.24.0 (CamelContext: camel-1) started in 1.070 seconds
12-10-2019 11:24:40.897 [main] INFO  mainRoute.log - Timer Invoked and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500 MOCK_TEST Environment
12-10-2019 11:24:40.916 [main] INFO  mainRoute.log - PollEnrich: mock env flow and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 11:24:40.918 [main] INFO  mainRoute.log - unmarshalling and the body is type,sku#,itemdescription,price
ADD,100,Samsung TV,500
ADD,101,LG TV,500
12-10-2019 11:24:40.992 [main] INFO  mainRoute.log - The unmarshalled object is [Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00), Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)]
12-10-2019 11:24:41.004 [main] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:24:41.005 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:24:41.007 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=100, itemDescription=Samsung TV, price=500.00)
12-10-2019 11:24:41.013 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('100', 'Samsung TV', 500.00)
12-10-2019 11:24:41.016 [main] INFO  mainRoute.log - Record is Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:24:41.017 [main] INFO  c.l.l.process.ValidateDataProcessor.process - Item in ValidateDataProcessor: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:24:41.019 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Item in Processor is: Item(transactionType=ADD, sku=101, itemDescription=LG TV, price=500.00)
12-10-2019 11:24:41.021 [main] INFO  c.l.l.process.BuildSqlProcessor.process - Query is insert into items (sku, item_description, price) values ('101', 'LG TV', 500.00)
12-10-2019 11:24:41.025 [main] INFO  o.a.c.component.mock.MockEndpoint.assertIsSatisfied - Asserting: mock://output1 is satisfied
12-10-2019 11:24:41.026 [main] INFO  o.a.c.component.mock.MockEndpoint.assertIsSatisfied - Asserting: mock://output2 is satisfied
12-10-2019 11:24:41.026 [main] INFO  o.a.c.component.mock.MockEndpoint.assertIsSatisfied - Asserting: mock://output3 is satisfied
12-10-2019 11:24:41.038 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutting down
12-10-2019 11:24:41.039 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 3 routes (timeout 10 seconds)
12-10-2019 11:24:41.053 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://kafka
12-10-2019 11:24:41.057 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
12-10-2019 11:24:41.057 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
12-10-2019 11:24:41.058 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 3 routes completed in 0 seconds
12-10-2019 11:24:41.075 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) uptime 1.926 seconds
12-10-2019 11:24:41.076 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.24.0 (CamelContext: camel-1) is shutdown in 0.038 seconds
12-10-2019 11:24:41.089 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
12-10-2019 11:24:41.099 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:24:41.100 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - Testing done: moveFile(com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest)
12-10-2019 11:24:41.113 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - Took: 0.879 seconds (879 millis)
12-10-2019 11:24:41.113 [main] INFO  c.l.l.route.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
12-10-2019 11:24:41.119 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class com.learncamel.learncamelspringboot.route.SimpleCamelRouteMockTest.moveFile
